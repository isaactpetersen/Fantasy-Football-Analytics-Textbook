# Causal Inference {#sec-causalInference}

## Getting Started {#sec-causalInferenceGettingStarted}

### Load Packages {#sec-causalInferenceLoadPackages}

```{r}

```

## Correlation Does Not Imply Causality {#sec-correlationCausality}

As described in @sec-correlationCausation, there are several reasons why two variables, $X$ and $Y$, might be correlated:

- $X$ causes $Y$
- $Y$ causes $X$
- a third variable (i.e., confound), $Z$, influences both $X$ and $Y$
- the association between $X$ and $Y$ is spurious

## Criteria for Causality {#sec-conditionsForCausality}

How do we know whether two processes are causally related?
There are three criteria for establishing causality [@Shadish2002]:

1. The cause (e.g., the independent or predictor variable) temporally precedes the effect (i.e., the dependent or outcome variable).
1. The cause is related to (i.e., associated with) the effect.
1. There are no other alternative explanations for the effect apart from the cause.

The first criterion for establishing causality involves temporal precedence.
In order for a cause to influence an effect, the cause must occur before the effect.
For instance, if sports drink consumption influences player performance, the sports drink consumption (that is presumed to influence performance) must occur prior to the performance improvement.
Establishing the first criterion eliminates the possibility that the association between the purported cause and effect reflects reverse causation.
Reverse causation occurs when the purported effect is actually the cause of the purported cause, rather than the other way around.
For instance, if sports drink consumption occurs only once, and it occurs only before and not after performance, then we have ruled out the possibility of reverse causation (i.e., that better performance causes players to consume sports drink).

The second criterion involves association.
The purported cause must be associated with the purported effect.
Nevertheless, as the maxim goes, "correlation does not imply causality."
Just because two variables are correlated does not necessarily mean that they are causally related.
However, correlation is useful because causality requires that the two processes be correlated.
That is, correlation is a necessary but insufficient condition for causality.
For instance, if sports drink consumption influences player performance, sports drink consumption must be associated with performance improvement.

The third criterion involves ruling out alternative reasons why the purported cause and effect may be related.
As noted in @sec-correlationCausality, there are four reasons why $X$ may be correlated with $Y$.
If we meet the first criterion of causality, we have removed the possibility that $Y$ causes $X$ (i.e., reverse causality).
To meet the third criterion of causality, we need to remove the possibility that the association reflects a third variable (confound) that influences both the cause and effect, and we need to remove the possibility that the association is spuriousâ€”the possibility that the association between the purported cause and effect is due to random chance.
There are multiple approaches to meeting the third criterion of causality, such as by use of [experiments](#sec-causalInferenceExperiment), [longitudinal designs](#sec-causalInferenceLongitudinal), [control variables](#sec-causalInferenceControlVariables), [within-subject designs](#sec-causalInferenceWithinSubject), and [genetically informed designs](#sec-causalInferenceGeneticallyInformed), as described in @sec-approachesCausalInference.

## Causal Diagrams {#sec-causalDiagrams}

## Approaches for Causal Inference {#sec-approachesCausalInference}

### Experimental Designs {#sec-causalInferenceExperiment}

As described in @sec-experiment, [Experimental designs](#sec-experiment) are designs in which participants are randomly assigned to one or more levels of the [independent variable](#sec-experiment) to observe its effects on the [dependent variable](#sec-experiment).
[Experimental designs](#sec-experiment) provide the strongest tests of causality because they can rule out reverse causation and third variables.
For instance, by manipulating sports drink consumption before the player performs, they can eliminate the possibility that reverse causation explains the effect of the [independent variable](#sec-experiment) on the [dependent variable](#sec-experiment).
Second, through randomly assigning players to consume or not consume sports drink, this holds everything else constant (so long as the groups are evenly distributed according to other factors, such as their age, weight, etc.) and thus removes the possibility that third variable confounds explain the effect of the [independent variable](#sec-experiment) on the [dependent variable](#sec-experiment).

### Quasi-Experimental Designs {#sec-causalInferenceQuasiExperiment}

Although [experimental designs](#sec-causalInferenceExperiment) provide the strongest tests of causality, manytimes they are impossible, unethical, or impractical to do.
For instance, it would not be practical to randomly assign National Football League (NFL) players to either consume or not consume sports drink before their games.
Players have their pregame rituals and routines and many would likely not agree to participate in such a study.
Thus, we often rely on quasi-experimental designs such as natural experiments and [observational/correlational designs](#sec-correlationalStudy).

#### Longitudinal Designs {#sec-causalInferenceLongitudinal}

#### Control Variables {#sec-causalInferenceControlVariables}

#### Within-Subject Analyses {#sec-causalInferenceWithinSubject}

#### Genetically Informed Designs {#sec-causalInferenceGeneticallyInformed}

::: {.content-visible when-format="html"}

## Session Info {#sec-causalInferenceSessionInfo}

```{r}
sessionInfo()
```

:::
