[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Fantasy Football Analytics",
    "section": "",
    "text": "Preface\nThis is a book in progress—it is incomplete. I will continue to add to and update it as I am able.",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "index.html#sec-openAccess",
    "href": "index.html#sec-openAccess",
    "title": "Fantasy Football Analytics",
    "section": "Open Access",
    "text": "Open Access\nThis is an open-access book. This means that it is freely available for anyone to access.",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "index.html#sec-license",
    "href": "index.html#sec-license",
    "title": "Fantasy Football Analytics",
    "section": "License",
    "text": "License\n\n\n\nCreative Commons License\n\n\nThe online version of this book is licensed under the Creative Commons Attribution License. In short, you can use my work as long as you cite it.",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "index.html#sec-citation",
    "href": "index.html#sec-citation",
    "title": "Fantasy Football Analytics",
    "section": "Citation",
    "text": "Citation\nThe APA-style citation for the book is:\nPetersen, I. T. (2024). Fantasy football analytics. Version 0.0.1. University of Iowa Libraries. https://github.com/isaactpetersen/Fantasy-Football-Analytics-Textbook. [INSERT DOI LINK]\n\nThe BibTeX citation for the book is:\n@book{petersenFantasyFootballAnalytics,\n  title = {Fantasy football analytics},\n  author = {Petersen, Isaac T.},\n  year = {2024},\n  publisher = {{University of Iowa Libraries}},\n  note = {Version 0.0.1},\n  doi = {INSERT},\n  isbn = {INSERT},\n  url = {https://github.com/isaactpetersen/Fantasy-Football-Analytics-Textbook}\n}",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "index.html#sec-accessibility",
    "href": "index.html#sec-accessibility",
    "title": "Fantasy Football Analytics",
    "section": "Accessibility",
    "text": "Accessibility\nI strive to follow principles of accessibility (archived at https://perma.cc/8XJ9-Q6QJ) to make the book content accessible to people with visual impairments and physical disabilities. If there are additional ways I can make the content more accessible, please let me know.",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "index.html#sec-contribute",
    "href": "index.html#sec-contribute",
    "title": "Fantasy Football Analytics",
    "section": "How to Contribute",
    "text": "How to Contribute\nThis is an open-access textbook. My goal is to share data analysis strategies for free! Anyone is welcome to contribute to the project. If you would like to contribute, feel free to open an issue or create a pull request on GitHub. The GitHub repository for the book is located here: https://github.com/isaactpetersen/Fantasy-Football-Analytics-Textbook. If you have data or analysis examples that are you willing to share and include in the book, feel free to contact me.",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "index.html#sec-acknowledgments",
    "href": "index.html#sec-acknowledgments",
    "title": "Fantasy Football Analytics",
    "section": "Acknowledgments",
    "text": "Acknowledgments\nI thank Dr. Benjamin Motz, who provided consultation and many helpful resources based on his fantasy football statistics class. I also thank key members of FantasyFootballAnalytics.net, including Val Pinskiy, Andrew Tungate, Dennis Andersen, and Adam Peterson, who helped develop and provide fantasy football-related resources and who helped sharpen my thinking about the topic. I also thank Professor Patrick Carroll, who taught me the value of statistics for answering important questions.",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "intro.html",
    "href": "intro.html",
    "title": "1  Introduction",
    "section": "",
    "text": "1.1 About this Book\nHow can we use information to make predictions about uncertain events? This book is about empiricism (basing theories on observed data) and judgment, prediction, and decision making in the context of uncertainty. The book provides an introduction to modern analytical techniques used to make informed predictions, test theories, and draw conclusions from a given dataset.\nThis book was originally written for a undergraduate-level course entitled, “Fantasy Football: Predictive Analytics and Empiricism”. The chapters provide an overview of topics that each could have its own class and textbook, such as causal inference, factor analysis, cluster analysis, principal component analysis, machine learning, cognitive biases, modern portfolio theory, data visualization, simulation, etc. The book gives readers an overview of the breadth of the approaches to prediction and empiricism. As a consequence, the book does not cover any one technique or approach in great depth.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "intro.html#sec-whatIsFantasyFootball",
    "href": "intro.html#sec-whatIsFantasyFootball",
    "title": "1  Introduction",
    "section": "1.2 What is Fantasy Football?",
    "text": "1.2 What is Fantasy Football?\nFantasy football is an online game where participants assemble (i.e., “draft”) imaginary teams composed of real-life National Football League (NFL) players. In this game, participants compete against their opponents (e.g., friends/coworkers/classmates), accumulating points based on players’ actual statistical performances in games. The goal is to outscore one’s opponent each week to win matches and ultimately claim victory in the league.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "intro.html#sec-whyFantasyFootball",
    "href": "intro.html#sec-whyFantasyFootball",
    "title": "1  Introduction",
    "section": "1.3 Why Focus on Fantasy Football?",
    "text": "1.3 Why Focus on Fantasy Football?\nI was fortunate to have an excellent instructor who taught me the value of learning statistics to answer interesting and important questions. That is, I do not find statistics intrinsically interesting; rather, I find them interesting because of what they allow me to do. Many students find statistics intimidating in part because of how it is typically taught—with examples like dice rolls and coin flips that are (seemingly irrelevant and) boring to students. My contention is that applied examples are a more effective lens to teach many concepts in psychology and data analysis. It can be more engaging and relatable to learn statistics in the applied context of sports, a domain that is more intuitive to many. Many people play fantasy sports. This book involves applying statistics to a particular domain (football). People actually want to learn statistical principles and methods when they can apply them to interesting questions (e.g., sports). In my opinion [and supported by evidence; Motz (2013)], this is a much more effective way of engaging people and teaching statistics than in the context of abstract coin flips and dice rolls. Fantasy football relies heavily on prediction—trying to predict which players will perform best and selecting them accordingly. In this way, fantasy football provides a plethora of decision making opportunities in the face of uncertainty, and a wealth of data for analyzing these decisions. However, unlike many other applied domains in psychology, fantasy football (1) allows a person to see the accuracy of their predictions on a timely basis and (2) provides a safe environment for friendly competition. Thus, it provides a unique domain to evaluate—and improve—the accuracy of various prediction models.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "intro.html#sec-educationalValue",
    "href": "intro.html#sec-educationalValue",
    "title": "1  Introduction",
    "section": "1.4 Educational Value",
    "text": "1.4 Educational Value\nSkills in statistics, statistical programming, and data analysis are highly valuable. This book includes practical and conceptual tools that build a foundation for critical thinking. The book aims to help readers evaluate theory in the light of evidence (and vice versa) and to refine decision making in the context of uncertainty. Readers will learn about the ways that psychological science (and related disciplines) poses questions, formulates hypotheses, designs studies to test those questions, and interprets the findings, collectively with the aim to answer questions, improve decision making, and solve problems.\nOf course, this is not a traditional psychology textbook. However, the book incorporates important psychological concepts, such as cognitive biases in judgment and prediction, etc. In the modern world of big data, research and society need people who know how to make sense of the information around us. Psychology is in a prime position to teach applied statistics to a wide variety of students, most of whom will not have careers as psychologists. Psychology can teach the importance of statistics given humans’ cognitive biases. It can also teach about how these biases can influence how people interpret statistics. This book will teach readers the applications of statistics (prediction) and research methods (empiricism) to answer questions they find interesting, while applying scientific and psychological rigor.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "intro.html#sec-objectives",
    "href": "intro.html#sec-objectives",
    "title": "1  Introduction",
    "section": "1.5 Learning Objectives",
    "text": "1.5 Learning Objectives\nThis book aims to help readers accomplish the following learning objectives:\n\nApply empirical inference and appreciate the value it provides over speculative supposition.\nAsk educated questions when confronted with decisions in the face of uncertainty.\nUnderstand human decision making, including common heuristics and cognitive biases and how to mitigate them analytically.\nEngage in critical thinking about causality, including devising plausible alternative explanations for observed effects.\nUnderstand causal inference including confounding, causal pathways, and counterfactuals.\nThink empirically about human behavior and performance.\nDescribe the strengths and weaknesses of humans versus computers in prediction scenarios.\nApply basic skills in statistical programming using R to manipulate and summarize datasets and to conduct data analysis.\nCritically evaluate the strengths and limitations of different statistical models and methodologies used in predicting uncertain events, enhancing their understanding of statistical inference and model selection.\nUse various analytical techniques for predicting the outcome of uncertain events, and for uncovering latent causes of patterns in observed data.\nInterpret findings from various statistical approaches and evaluate the accuracy of predictions.\nEngage in iterative problem-solving processes, refining analytical approaches based on feedback and outcomes, and adapting strategies accordingly.\nCommunicate statistical findings and analyses in both written and oral formats, demonstrating proficiency in presenting complex information to diverse audiences.\nMake sense of big data.\nUse practical analytical skills that can be applied in future research and job settings.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "intro.html#sec-disclosures",
    "href": "intro.html#sec-disclosures",
    "title": "1  Introduction",
    "section": "1.6 Disclosures",
    "text": "1.6 Disclosures\nI am the Owner of Fantasy Football Analytics, LLC, which operates https://fantasyfootballanalytics.net.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "intro.html#sec-disclaimer",
    "href": "intro.html#sec-disclaimer",
    "title": "1  Introduction",
    "section": "1.7 Disclaimer",
    "text": "1.7 Disclaimer\n“This material probably won’t win you fantasy football championships. You could take what we learn and apply it to fantasy football and you might become 5 percent more likely to win. Or… Consider the broader relevance of this. You could learn data analysis and figure out ways to apply it to other systems. And you could be making a six-figure salary within the next five years.” – Benjamin Motz, Ph.D.\nHere is a video of a Professor Benjamin Motz that describes the value of teaching statistics through the lens of fantasy football:\n\n\nVideo\nVideo of Prof. Benjamin Motz Discussing Statistics and His Fantasy Football Course.\n\n\n\n\n\n\nMotz, B. (2013). Fantasy football: A touchdown for undergraduate statistics education. Proceedings of the Games, Learning, and Society Conference, 9.0, 222–228. https://doi.org/10.1184/R1/6686804.v1",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "fantasy-football.html",
    "href": "fantasy-football.html",
    "title": "2  Intro to Football and Fantasy",
    "section": "",
    "text": "2.1 Football\nFootball is the most widely watched sport in the United States.1",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Intro to Football and Fantasy</span>"
    ]
  },
  {
    "objectID": "fantasy-football.html#sec-football",
    "href": "fantasy-football.html#sec-football",
    "title": "2  Intro to Football and Fantasy",
    "section": "",
    "text": "2.1.1 The Objective\nThe goal in football is for a team to score more points than their opponent. A game lasts 60 minutes, and it is separated into four 15-minute quarters. The team with the most points when the time runs out wins.\nHere is a video that provides a brief introduction to American football:\n\n\nVideo\nVideo that Provides An Introduction to American Football.\n\n\n\n\n2.1.2 The Roster\n\n2.1.2.1 Overview\nEach team has 11 players on the field at a time. The particular players who are on the field will depend on the situation, but usually includes one of the three subsets of players:\n\nOffense\nDefense\nSpecial Teams\n\nAn example formation is depicted in Figure Figure 2.1.\n\n\n\n\n\n\nFigure 2.1: An Example Football Formation for the Offense and Defense. The solid line indicates the line of scrimmage. The arrow indicates the direction the offense tries to advance the ball.\n\n\n\n\n\n2.1.2.2 Offense\nThe offense is on the field when the team has the ball.\nPlayers on offense include:\n\nQuarterback (QB)\nRunning Back (RB)\n\nHalfback (HB) or Tailback (TB)\nFullback (FB)\n\nWide Receiver (WR)\nTight End (TE)\nOffensive Linemen (OL), part of the “Offensive Line”\n\nCenter (C)\nOffensive Guard (OG)\nOffensive Tackle (OT)\n\n\nThe quarterback is the most important player on the offense. They help lead the team down the field. The quarterback receives the ball from the Center at the beginning of the play, and they can either hand the ball off (typically to a Running Back or Fullback), pass the ball (typically to a Wide Receiver or Tight End), or run the ball. Quarterbacks tend to have a strong arm for throwing the ball far and accurately. Some quarterbacks are fast and are considered “dual threats” to pass or run.\nRunning Backs take a hand-off from the Quarterback to execute a running play (i.e., a rush). They may also catch short passes from the Quarterback or help protect (i.e., block for) the Quarterback from the defensive players who are trying to tackle the Quarterback. Halfbacks and Tailbacks tend to be quick and agile. Fullbacks tend to be strong and powerful.\nWide Receivers catch passes from the Quarterback to execute a passing play. On running plays, they provide protection for the player running the ball (e.g., the Running Back) so the ball carrier can get as far as possible without being tackled. Wide receivers tend to be tall, fast, have good hands (can catch the ball well), and can jump high.\nTight Ends block for running and passing plays, and they catch passes from the Quarterback. Tight ends tend to be strong and have good hands.\nOffensive Linemen block for running and passing plays. On passing plays, they provide protection for the Quarterback so the Quarterback has time to pass the ball without being tackled. On running plays, they provide protection for the player running the ball (e.g., the Running Back) so the ball carrier can get as far as possible without being tackled. Offensive Linemen tend to be large so they can provide adequate protection for the Quarterback and Running Back.\n\n\n2.1.2.3 Defense\nThe defense is on the field when the team does not have the ball (i.e., when the opposing team has the ball).\nPlayers on defense include:\n\nDefensive Linemen (DL), part of the “Defensive Line”\n\nDefensive End (DE)\nDefensive Tackle (DT)\n\nLinebacker (LB)\n\nMiddle (or Inside) Linebacker (MLB)\nOutside Linebacker (OLB)\n\nDefensive Back (DB), part of the “Secondary”\n\nCornerback (CB)\nSafety (S)\n\nFree Safety (FS)\nStrong Safety (SS)\n\n\n\nThe players on the defense attempt to tackle the offensive players for as short of gains as possible and attempt to prevent completed passes.\nOn passing plays, Defensive Linemen try to apply pressure to the Quarterback and try to tackle the Quarterback behind the line of scrimmage before the Quarterback can throw the ball (i.e., a sack). On rushing plays, Defensive Linemen try to tackle the ball carrier to prevent the ball carrier from advancing the ball (i.e., gaining yards). Defensive Linemen tend to be large yet quick so they can apply pressure to the Quarterback.\nLinebackers are versatile in that, on a given play, they may attempt to a) “blitz” to sack the Quarterback, b) stop the Running Back, or c) prevent a completed pass. Linebackers tend to be strong yet agile.\nDefensive Backs are specialist pass defenders. The main role of Cornerbacks is to cover the Wide Receivers. Safeties serve as the last line of defense for longer passes. Defensive Backs tend to be quick and agile.\n\n\n2.1.2.4 Special Teams\nThe special teams involves specialist players who are on the field during all kicking plays including kickoffs, field goals, and punts.\nPlayers on special teams include:\n\nKicker (K)\nPunter (P)\nHolder\nLong Snapper\nPunt Returner\nKick Returner\nand other players intended to block for or to tackle the ball carrier\n\nOn a field goal attempt, the Long Snapper snaps the ball to the Holder, who holds the ball for the Kicker. The Kicker attempts field goals and, during kickoffs, kicks the ball to the opposing team. During kickoffs, the Kick Returner catches the kicked ball and returns it for as many yards as possible. During a punt play, the Long Snapper snaps the ball to the Punter who kicks (i.e., punts) the ball to the opposing team. The Punt Returner catches the punted ball and returns it for as many yards as possible.\n\n\n\n2.1.3 The Field\nThe football field is rectangular and is 120 yards long and 53 1/3 yards wide (109.73 m x 48.77 m).2 At each end of the 120-yard field is a team’s end zone. Each end zone is 10 yards long (9.14 m). Thus, the distance from one end zone to the other end zone is 100 yards (91.44 m). Behind each end zone is a field goal post. A diagram of a football field is depicted in Figure Figure 2.2.\n\n\n\n\n\n\nFigure 2.2: A Diagram of a Football Field. The yard markers depict the distance from the nearest end zone. The orange shaded area is called the “red zone”, where chances of scoring points are highest. The original figure was modified to depict field goal posts. (Figure retrieved from https://commons.wikimedia.org/wiki/File:American_football_field.svg)\n\n\n\n\n\n2.1.4 The Gameplay\nAt the beginning of the game, there is a coin flip to determine which teams receives the ball first and which team takes which side of the field. During the kickoff, the kicking team kicks the ball to the receiving team, who has the option to return the kick. The offense starts their possession at the 25 yard line—if there is no return (i.e., a touchback)—or wherever the kick returner is tackled or goes out of bounds.\nThe team with the ball (i.e., the offense) has four opportunities (“downs”) to advance the ball (i.e., gain) 10 yards. A team can advance the ball either by running it or by throwing (i.e., passing) and catching it. At the end of a rushing play, the ball advances to wherever the ball carrier is tackled or goes out of bounds (i.e., wherever the player is “down”). At the end of a passing play, if the thrown ball is caught (i.e., a completed pass), the ball advances to wherever the ball carrier is tackled or goes out of bounds. If the thrown ball is not caught in bounds before the ball hits the ground (i.e., an incomplete pass), the ball does not advance. Wherever the ball is advanced to dictates where the next play begins. The yard position on the field where the next play takes place from is known as the “line of scrimmage”. Neither team can cross the line the line of scrimmage until the next play begins. To begin the play, the ball is placed on the line of scrimmage and the Center gives (or “snaps”) the ball to the Quarterback.\nIf the team advances the ball 10 or more yards within four downs, the team receives a “first down” and is awarded a new set of downs—four more downs to advance the ball 10 more yards. If the team advances the ball all the way to the other team’s end zone, they score a touchdown. If the team fails to advance the ball 10 or more yards within four downs, the team loses the ball, and the other team takes possession at that spot on the field. There are risks of giving the other team the ball with a short distance to score. Thus, on fourth down, instead of trying to advance the ball for a first down, a team may choose to kick a field goal—to get points—or to punt.\nA field goal involves a kicker kicking the ball with an intent to kick the ball through the field goal posts (“uprights”). To score points by making a field goal, the kicked ball must go between the uprights (extended vertically) and over the cross bar.\nPunting involves a punter kicking the ball to the other team with an intent to give their opponent worse field position, thus making it harder for the other team to score. The punting team tries to pin the opponent as close as possible to the opponent’s end zone (i.e., as far as possible from the own team’s end zone), so they have a longer distance to go to score a touchdown.\nThere are multiple ways that ball possession can switch from the offense to the other team. After scoring a touchdown, field goal, or safety, there is a kickoff, in which the scoring team kicks the ball to the opponent. Another way that the ball switches possession to the other team is if the team commits a turnover. The defense can force a turnover by an interception, fumble recovery, or turnover on downs. A turnover due to an interception occurs when a defensive player catches the quarterback’s pass. A turnover due to a fumble recovery occurs when an offensive player, who had possession of the ball, loses the ball before being down or scoring a touchdown and the ball is recovered by the opponent. A turnover on downs occurs when the team attempts on fourth down to achieve the remainder of the needed 10 yards to go but fails.\nOther football-related situations include tackles for loss and sacks. A tackle for loss occurs when a ball carrier is tackled behind the line of scrimmage. A sack occurs when a Quarterback is tackled with the ball behind the line of scrimmage. A pass defended occurs when a defensive player knocks down the ball in the air so that the indended receiver cannot catch the ball.\n\n\n2.1.5 The Scoring\nThe goal of the team with the ball (i.e., the offense) is to score points. It can do this by either advancing the ball into the other team’s end zone (6 points) or by kicking a field goal (3 points). Advancing the ball in the other team’s end zone is called a touchdown. After a touchdown, the offense chooses to attempt either a point-after-touchdown (PAT) or a two-point conversion. A PAT is a short kick attempt from the 15-yard line (i.e., 15 yards away from the end zone) that, if it goes through the goal posts (“uprights”) and over the cross bar, is worth 1 point. A two-point conversion is a single-scoring opportunity from the 3-yard line (i.e., 3 yards away from the end zone). If the offense scores (i.e., advances the ball into the end zone) from the 3-yard line, the team is awarded 2 points.\nA team can kick a field goal from any distance as long as the kick goes through the goal posts. The current record for the longest field goal is 66 yards (by Justin Tucker in 2021).\nA safety occurs when the offense is tackled with the ball in their own end zone. When a safety occurs, the opposing team (i.e., defense) is awarded two points and the ball.\n\n\n2.1.6 Glossary of Terms\n\nrunning play (“run”) or rushing play (or “rush”)—the attempt by an offensive player, typically the Running Back or Quarterback, to advance the ball “on the ground” by running it—not by passing it forward\npassing play (or “pass”)—the attempt by an offensive player, typically the Quarterback, to advance the ball by throwing it forward to an offensive player\npassing attempt—the attempt to advance the ball by passing it (i.e., a thrown pass)\nrushing attempt—the attempt to advance the ball by running it\npassing completion—a thrown pass that is succesfully caught by an offensive player\npassing incompletion—a thrown pass that is not caught by an offensive player\npassing yards—the distance (in yards) the player advanced the ball by throwing it\nrushing yards—the distance (in yards) the player advanced the ball by running it\nreceving yards—the distance (in yards) the player advanced the ball by catching thrown passes and then running with it further upfield\nkick/punt return yards—the distance (in yards) the player advanced the ball by returning kicks or punts\nturnover return yards—the distance (in yards) the player advanced the ball by returning turnovers\nreception—a pass that is caught by the offensive player\ntouchdown—advancing the ball into the opponent’s end zone either by a) throwing a completed pass that ends up in the end zone, b) running it into the end zone, c) catching it in the end zone, or d) catching it and then running it into the end zone\npassing touchdown—advancing the ball into the opponent’s end zone either by throwing a completed pass that ends up in the end zone\nrushing touchdown—advancing the ball into the opponent’s end zone either by running it into the end zone\nreceiving touchdown—advancing the ball into the opponent’s end zone either by catching it in the end zone or by catching it and then running it into the end zone\nkick/punt return touchdown—advancing the ball into the opponent’s end zone when returning a kick or punt\nturnover return touchdown—advancing the ball into the opponent’s end zone when returning a turnover (i.e., interception or fumble)\ntwo-point conversion—a single-scoring opportunity from the 3-yard line (i.e., 3 yards away from the end zone) that is an option given to a team that scores a touchdown; if the offense scores (i.e., advances the ball into the end zone) from the 3-yard line, the team is awarded 2 points\nblock—when the defense/special teams blocks a kick or field goal by hitting the ball just after it is kicked to prevent the ball from going far\nkickoff—the kicking team kicks the ball to the receiving team, who has the option to return the kick\nfield goal—a kicker kicks the ball with an intent to kick the ball through the field goal posts (“uprights”). To score points by making a field goal, the kicked ball must go between the uprights (extended vertically) and over the cross bar. If the field goal attempt is successful, the team gains 3 points.\npoint after touchdown (PAT)—a short kick attempt from the 15-yard line (i.e., 15 yards away from the end zone) that, if it goes through the goal posts (“uprights”) and over the cross bar, is worth 1 point\nextra point returned—if the defense/special teams returns the ball into the opponent’s end zone during a point after touchdown (PAT) attempt, it is worth 2 points\npunt—a punter kicks the ball to the other team with an intent to give their opponent worse field position, thus making it harder for the other team to score\nfumble lost—when an offensive player, who had possession of the ball, loses the ball before being down or scoring a touchdown and the ball is recovered by the opponent\nfumble forced—when a defensive player knocks the ball out of the hands of an offensive player, who had possession of the ball\nfumble recovery—when a defensive player recovers a fumble by the opponent\ninterception—when a defensive player catches a pass from an offensive player\ntackle—when a player brings down the ball carrier\ntackle solo—when a player is the main tackler (i.e., the primary player to bring down the ball carrier)\ntackle assist—when a player is one of two or more players who, together, bring down the ball carrier\ntackle for loss—when an offensive player is tackled with the ball behind the line of scrimmage\nsack—when a Quarterback is tackled with the ball behind the line of scrimmage\npass defended—when a defensive player knocks down the ball in the air so that the indended receiver cannot catch the ball\nsafety—when the offense is tackled with the ball in their own end zone",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Intro to Football and Fantasy</span>"
    ]
  },
  {
    "objectID": "fantasy-football.html#sec-fantasyFootball",
    "href": "fantasy-football.html#sec-fantasyFootball",
    "title": "2  Intro to Football and Fantasy",
    "section": "2.2 Fantasy Football",
    "text": "2.2 Fantasy Football\n\n2.2.1 Overview of Fantasy Football\nFantasy football is one of the most widely played games in the history of games. It is estimated that around 62 million people play fantasy sports3, of whom around 29 million play fantasy football.4 As noted in the Introduction, fantasy football is an online game where participants assemble (i.e., “draft”) imaginary teams composed of real-life National Football League (NFL) players.5 The participants are in charge of managing and making strategic decisions for their imaginary team to have the best possible team that will score the most points. Thus, the participants are called “managers”. Managers make decisions such as selecting which players to draft, selecting which players to play (i.e., “start”) on a weekly basis, identifying players to pick up from the remaining pool of available players (i.e., waiver wire), and making trades with other teams. Fantasy football relies heavily on prediction—trying to predict which players will perform best and selecting them accordingly.\nHere is a video that provides a brief introduction to fantasy football:\n\n\nVideo\nVideo that Provides an Introduction to Fantasy Football.\n\n\n\n\n2.2.2 The Fantasy League\nA fantasy football “league” is composed of various imaginary (i.e., “fantasy”) teams—and their associated manager. In the fantasy league, the managers’ fantasy teams play against each other. A fantasy league is commonly composed of 8, 10, or 12 fantasy teams, but leagues can have more or fewer teams.\n\n\n2.2.3 The Roster of a Fantasy Team\nOn a given roster, a manager has a “starting lineup” and a “bench”. Each week, the manager decides which players on their roster to put in the starting lineup, and which to keep on the bench. In many leagues, a starting lineup is composed of offensive players, a kicker, and defense/special teams:\nOffensive players:\n\n\n\nTable 2.1: Offensive Players in the Starting Lineup\n\n\n\n\n\n\n\n\n\nPosition\nTypical Number of Players in Starting Lineup\n\n\n\n\nQuarterback (QB)\n1\n\n\nRunning Back (RB)\n2\n\n\nWide Receiver (WR)\n2\n\n\nTight End (TE)\n1\n\n\nFlex Position\n1\n\n\n\n\n\n\nA “flex position” is a flexible position that can involve a player from various positions: e.g., a Running Back, Wide Receiver, or Tight End.\nKickers:\n\none Kicker (K)\n\nDefense/Special Teams:\n\none Team Defense (DST/D/DEF) or multiple Individual Defensive Players (IDP)\n\n\n\n2.2.4 Scoring\n\n2.2.4.1 Scoring Overview\nIn the game of fantasy football, managers accumulate points on a weekly basis based on players’ actual statistical performances in NFL games. Managers receive points for only those players who are on their starting lineup (not players on their bench). A manager’s goal is to outscore their opponent each week to win matches and ultimately claim victory in the league. Scoring settings can differ from league to league.\nBelow are common scoring settings for fantasy leagues.\n\n\n2.2.4.2 Offensive Players\n\n\n\nTable 2.2: Common Scoring Settings for Offensive Players\n\n\n\n\n\n\n\n\n\nStatistical category\nPoints\n\n\n\n\nRushing or receiving TD\n6\n\n\nReturning a kick or punt for a TD\n6\n\n\nReturning or recovering a fumble for a TD\n6\n\n\nPassing TD\n4\n\n\nPassing INT\n−2\n\n\nFumble lost\n−2\n\n\nRushing, passing, or receiving 2-point conversion\n2\n\n\nRushing or receiving yards\n1 point per 10 yards\n\n\nPassing yards\n1 point per 25 yards\n\n\n\n\n\n\nNote: “TD” = touchdown; “INT” = interception\nOther common (but not necessarily standard) statistical categories include:\n\nreceptions (called “point per reception” [PPR] leagues)\nreturn yards\npassing attempts\nrushing attempts\n\n\n\n2.2.4.3 Kickers\n\n\n\nTable 2.3: Common Scoring Settings for Kickers\n\n\n\n\n\n\n\n\n\nStatistical category\nPoints\n\n\n\n\nFG made: 50+ yards\n5\n\n\nFG made: 40–49 yards\n4\n\n\nFG made: 39 yards or less\n3\n\n\nRushing, passing, or receiving 2-point conversion\n2\n\n\nPoint after touchdown attempt made\n1\n\n\nPoint after touchdown attempt missed\n−1\n\n\nMissed FG: 0–39 yards\n−2\n\n\nMissed FG: 40–49 yards\n−1\n\n\n\n\n\n\nNote: “FG” = field goal\n\n\n2.2.4.4 Team Defense/Special Teams\n\n\n\nTable 2.4: Common Scoring Settings for Team Defense/Special Teams\n\n\n\n\n\n\n\n\n\nStatistical category\nPoints\n\n\n\n\nDefensive or special teams TD\n3\n\n\nInterception\n2\n\n\nFumble recovery\n2\n\n\nBlocked punt, PAT, or FG\n2\n\n\nSafety\n2\n\n\nSack\n1\n\n\n\n\n\n\nNote: “TD” = touchdown; “PAT” = point after touchdown; “FG” = field goal\n\n\n2.2.4.5 Individual Defensive Players\n\n\n\nTable 2.5: Common Scoring Settings for Individual Defensive Players\n\n\n\n\n\n\n\n\n\nStatistical category\nPoints\n\n\n\n\nTackle solo\n1\n\n\nTackle assist\n0.5\n\n\nTackle for loss\n1\n\n\nSack\n2\n\n\nInterception\n4\n\n\nFumble forced\n2\n\n\nFumble recovery\n2\n\n\nTD\n6\n\n\nSafety\n2\n\n\nPass defended\n1\n\n\nBlocked kick\n2\n\n\nExtra point returned\n2\n\n\n\n\n\n\nNote: “TD” = touchdown\nOther common (but not necessarily standard) statistical categories include:\n\nturnover return yards\n\n\n\n2.2.4.6 Common Scoring Abbreviations\n\n“TD” = touchdown\n“INT” = interception\n“yds” = yards\n“ATT” = attempts\n“2-pt conversion” = two-point conversion\n“FG” = field goal\n“PAT” = point after touchdown (i.e., extra point/point after attempt)",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Intro to Football and Fantasy</span>"
    ]
  },
  {
    "objectID": "fantasy-football.html#footnotes",
    "href": "fantasy-football.html#footnotes",
    "title": "2  Intro to Football and Fantasy",
    "section": "",
    "text": "https://news.gallup.com/poll/610046/football-retains-dominant-position-favorite-sport.aspx (archived at https://perma.cc/X2UG-RAAK); https://www.statista.com/statistics/1430289/most-watched-sports-leagues-usa/ (archived at https://perma.cc/JNU6-S96A)↩︎\nOne yard is equal to three feet. A yard is just smaller than a meter (0.9144 meters).↩︎\nhttps://thefsga.org/industry-demographics/ (archived at https://perma.cc/9PB8-ZDJJ)↩︎\nhttps://www.statista.com/topics/10895/fantasy-sports-in-the-us/ (archived at https://perma.cc/8YSN-UUNT)↩︎\nFantasy leagues are also available for baseball, basketball, and many other sports.↩︎",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Intro to Football and Fantasy</span>"
    ]
  },
  {
    "objectID": "getting-started.html",
    "href": "getting-started.html",
    "title": "3  Getting Started with R for Data Analysis",
    "section": "",
    "text": "3.1 Initial Setup\nTo get started, follow the following steps:\nCode\ninstall.packages(c(\"petersenlab\",\"tidyverse\",\"psych\"))",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Getting Started with `R` for Data Analysis</span>"
    ]
  },
  {
    "objectID": "getting-started.html#sec-initialSetup",
    "href": "getting-started.html#sec-initialSetup",
    "title": "3  Getting Started with R for Data Analysis",
    "section": "",
    "text": "Install R: https://cran.r-project.org\nInstall RStudio Desktop: https://posit.co/download/rstudio-desktop\nAfter installing RStudio, open RStudio and run the following code in the console to install several key R packages:\n\n\n\n\n\n\n\n\nNote 3.1: If you are in Dr. Petersen’s class\n\n\n\nIf you are in Dr. Petersen’s class, also perform the following steps:\n\nSet up a free account on GitHub.com.\nDownload GitHub Desktop: https://desktop.github.com",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Getting Started with `R` for Data Analysis</span>"
    ]
  },
  {
    "objectID": "getting-started.html#sec-installingPackages",
    "href": "getting-started.html#sec-installingPackages",
    "title": "3  Getting Started with R for Data Analysis",
    "section": "3.2 Installing Packages",
    "text": "3.2 Installing Packages\nYou can install R packages using the following syntax:\n\n\nCode\ninstall.packages(\"INSERT_PACKAGE_NAME_HERE\")\n\n\nFor instance, you can use the following code to install the nflreadr package:\n\n\nCode\ninstall.packages(\"nflreadr\")",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Getting Started with `R` for Data Analysis</span>"
    ]
  },
  {
    "objectID": "getting-started.html#sec-loadPackages",
    "href": "getting-started.html#sec-loadPackages",
    "title": "3  Getting Started with R for Data Analysis",
    "section": "3.3 Load Packages",
    "text": "3.3 Load Packages\n\n\nCode\nlibrary(\"ffanalytics\")\nlibrary(\"nflreadr\")\nlibrary(\"nflfastR\")\nlibrary(\"nfl4th\")\nlibrary(\"nflplotR\")\nlibrary(\"progressr\")\nlibrary(\"lubridate\")\nlibrary(\"tidyverse\")",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Getting Started with `R` for Data Analysis</span>"
    ]
  },
  {
    "objectID": "getting-started.html#sec-downloadFootballData",
    "href": "getting-started.html#sec-downloadFootballData",
    "title": "3  Getting Started with R for Data Analysis",
    "section": "3.4 Download Football Data",
    "text": "3.4 Download Football Data\n\n3.4.1 Players\n\n\nCode\nnfl_players &lt;- progressr::with_progress(\n  nflreadr::load_players())\n\n\n\n\n3.4.2 Teams\n\n\nCode\nnfl_teams &lt;- progressr::with_progress(\n  nflreadr::load_teams(current = TRUE))\n\n\n\n\n3.4.3 Player Info\n\n\n3.4.4 Rosters\nA Data Dictionary for rosters is located at the following link: https://nflreadr.nflverse.com/articles/dictionary_rosters.html\n\n\nCode\nnfl_rosters &lt;- progressr::with_progress(\n  nflreadr::load_rosters(seasons = TRUE))\n\nnfl_rosters_weekly &lt;- progressr::with_progress(\n  nflreadr::load_rosters_weekly(seasons = TRUE))\n\n\n\n\n3.4.5 Game Schedules\nA Data Dictionary for game schedules data is located at the following link: https://nflreadr.nflverse.com/articles/dictionary_schedules.html\n\n\nCode\nnfl_schedules &lt;- progressr::with_progress(\n  nflreadr::load_schedules(seasons = TRUE))\n\n\n\n\n3.4.6 The Combine\nA Data Dictionary for data from the combine is located at the following link: https://nflreadr.nflverse.com/articles/dictionary_combine.html\n\n\nCode\nnfl_combine &lt;- progressr::with_progress(\n  nflreadr::load_combine(seasons = TRUE))\n\n\n\n\n3.4.7 Draft Picks\nA Data Dictionary for draft picks data is located at the following link: https://nflreadr.nflverse.com/articles/dictionary_draft_picks.html\n\n\nCode\nnfl_draftPicks &lt;- progressr::with_progress(\n  nflreadr::load_draft_picks(seasons = TRUE))\n\n\n\n\n3.4.8 Depth Charts\nA Data Dictionary for data from weekly depth charts is located at the following link: https://nflreadr.nflverse.com/articles/dictionary_depth_charts.html\n\n\nCode\nnfl_depthCharts &lt;- progressr::with_progress(\n  nflreadr::load_depth_charts(seasons = TRUE))\n\n\n\n\n3.4.9 Play-By-Play Data\nTo download play-by-play data from prior weeks and seasons, we can use the load_pbp() function of the nflreadr package. We add a progress bar using the with_progress() function from the progressr package because it takes a while to run. A Data Dictionary for the play-by-play data is located at the following link: https://nflreadr.nflverse.com/articles/dictionary_pbp.html\n\n\n\n\n\n\nNote 3.2: Downloading play-by-play data\n\n\n\nNote: the following code takes a while to run.\n\n\n\n\nCode\nnfl_pbp &lt;- progressr::with_progress(\n  nflreadr::load_pbp(seasons = TRUE))\n\n\n\n\n3.4.10 4th Down Data\n\n\nCode\nnfl_4thdown &lt;- nfl4th::load_4th_pbp(seasons = 2014:2023)\n\n\n\n\n3.4.11 Participation\nA Data Dictionary for the participation data is located at the following link: https://nflreadr.nflverse.com/articles/dictionary_participation.html\n\n\nCode\nnfl_participation &lt;- progressr::with_progress(\n  nflreadr::load_participation(\n    seasons = TRUE,\n    include_pbp = TRUE))\n\n\n\n\n3.4.12 Historical Weekly Actual Player Statistics\nWe can download historical week-by-week actual player statistics using the load_player_stats() function from the nflreadr package. A Data Dictionary for statistics for offensive players is located at the following link: https://nflreadr.nflverse.com/articles/dictionary_player_stats.html. A Data Dictionary for statistics for defensive players is located at the following link: https://nflreadr.nflverse.com/articles/dictionary_player_stats_def.html.\n\n\nCode\nnfl_actualStats_offense_weekly &lt;- progressr::with_progress(\n  nflreadr::load_player_stats(\n    seasons = TRUE,\n    stat_type = \"offense\"))\n\nnfl_actualStats_defense_weekly &lt;- progressr::with_progress(\n  nflreadr::load_player_stats(\n    seasons = TRUE,\n    stat_type = \"defense\"))\n\nnfl_actualStats_kicking_weekly &lt;- progressr::with_progress(\n  nflreadr::load_player_stats(\n    seasons = TRUE,\n    stat_type = \"kicking\"))\n\n\n\n\n3.4.13 Injuries\nA Data Dictionary for injury data is located at the following link: https://nflreadr.nflverse.com/articles/dictionary_injuries.html\n\n\nCode\nnfl_injuries &lt;- progressr::with_progress(\n  nflreadr::load_injuries(seasons = TRUE))\n\n\n\n\n3.4.14 Snap Counts\nA Data Dictionary for snap counts data is located at the following link: https://nflreadr.nflverse.com/articles/dictionary_snap_counts.html\n\n\nCode\nnfl_snapCounts &lt;- progressr::with_progress(\n  nflreadr::load_snap_counts(seasons = TRUE))\n\n\n\n\n3.4.15 ESPN QBR\nA Data Dictionary for ESPN QBR data is located at the following link: https://nflreadr.nflverse.com/articles/dictionary_espn_qbr.html\n\n\nCode\nnfl_espnQBR_seasonal &lt;- progressr::with_progress(\n  nflreadr::load_espn_qbr(\n    seasons = TRUE,\n    summary_type = c(\"season\")))\n\nnfl_espnQBR_weekly &lt;- progressr::with_progress(\n  nflreadr::load_espn_qbr(\n    seasons = TRUE,\n    summary_type = c(\"weekly\")))\n\nnfl_espnQBR_weekly$game_week &lt;- as.character(nfl_espnQBR_weekly$game_week)\n\nnfl_espnQBR &lt;- bind_rows(\n  nfl_espnQBR_seasonal,\n  nfl_espnQBR_weekly\n)\n\n\n\n\n3.4.16 NFL Next Gen Stats\nA Data Dictionary for NFL Next Gen Stats data is located at the following link: https://nflreadr.nflverse.com/articles/dictionary_nextgen_stats.html\n\n\nCode\nnfl_nextGenStats_pass_weekly &lt;- progressr::with_progress(\n  nflreadr::load_nextgen_stats(\n    seasons = TRUE,\n    stat_type = c(\"passing\")))\n\nnfl_nextGenStats_rush_weekly &lt;- progressr::with_progress(\n  nflreadr::load_nextgen_stats(\n    seasons = TRUE,\n    stat_type = c(\"rushing\")))\n\nnfl_nextGenStats_rec_weekly &lt;- progressr::with_progress(\n  nflreadr::load_nextgen_stats(\n    seasons = TRUE,\n    stat_type = c(\"receiving\")))\n\nnfl_nextGenStats_weekly &lt;- bind_rows(\n  nfl_nextGenStats_pass_weekly,\n  nfl_nextGenStats_rush_weekly,\n  nfl_nextGenStats_rec_weekly\n)\n\n\n\n\n3.4.17 Advanced Stats from PFR\nA Data Dictionary for PFR passing data is located at the following link: https://nflreadr.nflverse.com/articles/dictionary_pfr_passing.html\n\n\nCode\nnfl_advancedStatsPFR_pass_seasonal &lt;- progressr::with_progress(\n  nflreadr::load_pfr_advstats(\n    seasons = TRUE,\n    stat_type = c(\"pass\"),\n    summary_level = c(\"season\")))\n\nnfl_advancedStatsPFR_pass_weekly &lt;- progressr::with_progress(\n  nflreadr::load_pfr_advstats(\n    seasons = TRUE,\n    stat_type = c(\"pass\"),\n    summary_level = c(\"week\")))\n\nnfl_advancedStatsPFR_rush_seasonal &lt;- progressr::with_progress(\n  nflreadr::load_pfr_advstats(\n    seasons = TRUE,\n    stat_type = c(\"rush\"),\n    summary_level = c(\"season\")))\n\nnfl_advancedStatsPFR_rush_weekly &lt;- progressr::with_progress(\n  nflreadr::load_pfr_advstats(\n    seasons = TRUE,\n    stat_type = c(\"rush\"),\n    summary_level = c(\"week\")))\n\nnfl_advancedStatsPFR_rec_seasonal &lt;- progressr::with_progress(\n  nflreadr::load_pfr_advstats(\n    seasons = TRUE,\n    stat_type = c(\"rec\"),\n    summary_level = c(\"season\")))\n\nnfl_advancedStatsPFR_rec_weekly &lt;- progressr::with_progress(\n  nflreadr::load_pfr_advstats(\n    seasons = TRUE,\n    stat_type = c(\"rec\"),\n    summary_level = c(\"week\")))\n\nnfl_advancedStatsPFR_def_seasonal &lt;- progressr::with_progress(\n  nflreadr::load_pfr_advstats(\n    seasons = TRUE,\n    stat_type = c(\"def\"),\n    summary_level = c(\"season\")))\n\nnfl_advancedStatsPFR_def_weekly &lt;- progressr::with_progress(\n  nflreadr::load_pfr_advstats(\n    seasons = TRUE,\n    stat_type = c(\"def\"),\n    summary_level = c(\"week\")))\n\nnfl_advancedStatsPFR &lt;- bind_rows(\n  nfl_advancedStatsPFR_pass_seasonal,\n  nfl_advancedStatsPFR_pass_weekly,\n  nfl_advancedStatsPFR_rush_seasonal,\n  nfl_advancedStatsPFR_rush_weekly,\n  nfl_advancedStatsPFR_rec_seasonal,\n  nfl_advancedStatsPFR_rec_weekly,\n  nfl_advancedStatsPFR_def_seasonal,\n  nfl_advancedStatsPFR_def_weekly,\n)\n\n\n\n\n3.4.18 Player Contracts\nA Data Dictionary for player contracts data is located at the following link: https://nflreadr.nflverse.com/articles/dictionary_contracts.html\n\n\nCode\nnfl_playerContracts &lt;- progressr::with_progress(\n  nflreadr::load_contracts())\n\n\n\n\n3.4.19 FTN Charting Data\nA Data Dictionary for FTN Charting data is located at the following link: https://nflreadr.nflverse.com/articles/dictionary_ftn_charting.html\n\n\nCode\nnfl_ftnCharting &lt;- progressr::with_progress(\n  nflreadr::load_ftn_charting(seasons = TRUE))\n\n\n\n\n3.4.20 Fantasy Player IDs\nA Data Dictionary for fantasy player ID data is located at the following link: https://nflreadr.nflverse.com/articles/dictionary_ff_playerids.html\n\n\nCode\nnfl_playerIDs &lt;- progressr::with_progress(\n  nflreadr::load_ff_playerids())\n\n\n\n\n3.4.21 FantasyPros Rankings\nA Data Dictionary for FantasyPros ranking data is located at the following link: https://nflreadr.nflverse.com/articles/dictionary_ff_rankings.html\n\n\nCode\n#nfl_rankings &lt;- progressr::with_progress( # currently throws error\n#  nflreadr::load_ff_rankings(type = \"all\"))\n\nnfl_rankings_draft &lt;- progressr::with_progress(\n  nflreadr::load_ff_rankings(type = \"draft\"))\n\nnfl_rankings_weekly &lt;- progressr::with_progress(\n  nflreadr::load_ff_rankings(type = \"week\"))\n\nnfl_rankings &lt;- bind_rows(\n  nfl_rankings_draft,\n  nfl_rankings_weekly\n)\n\n\n\n\n3.4.22 Expected Fantasy Points\nA Data Dictionary for expected fantasy points data is located at the following link: https://nflreadr.nflverse.com/articles/dictionary_ff_opportunity.html\n\n\nCode\nnfl_expectedFantasyPoints_weekly &lt;- progressr::with_progress(\n  nflreadr::load_ff_opportunity(\n    seasons = TRUE,\n    stat_type = \"weekly\",\n    model_version = \"latest\"\n  ))\n\nnfl_expectedFantasyPoints_pass &lt;- progressr::with_progress(\n  nflreadr::load_ff_opportunity(\n    seasons = TRUE,\n    stat_type = \"pbp_pass\",\n    model_version = \"latest\"\n  ))\n\nnfl_expectedFantasyPoints_rush &lt;- progressr::with_progress(\n  nflreadr::load_ff_opportunity(\n    seasons = TRUE,\n    stat_type = \"pbp_rush\",\n    model_version = \"latest\"\n  ))\n\nnfl_expectedFantasyPoints_weekly$season &lt;- as.integer(nfl_expectedFantasyPoints_weekly$season)\n\nnfl_expectedFantasyPoints_offense &lt;- bind_rows(\n  nfl_expectedFantasyPoints_pass,\n  nfl_expectedFantasyPoints_rush\n)",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Getting Started with `R` for Data Analysis</span>"
    ]
  },
  {
    "objectID": "getting-started.html#sec-dataDictionary",
    "href": "getting-started.html#sec-dataDictionary",
    "title": "3  Getting Started with R for Data Analysis",
    "section": "3.5 Data Dictionary",
    "text": "3.5 Data Dictionary\nData Dictionaries are metadata that describe the meaning of the variables in a datset. You can find Data Dictionaries for the various NFL datasets at the following link: https://nflreadr.nflverse.com/articles/index.html.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Getting Started with `R` for Data Analysis</span>"
    ]
  },
  {
    "objectID": "getting-started.html#sec-createDF",
    "href": "getting-started.html#sec-createDF",
    "title": "3  Getting Started with R for Data Analysis",
    "section": "3.6 Create a Data Frame",
    "text": "3.6 Create a Data Frame\nHere is an example of creating a data frame:\n\n\nCode\nplayers &lt;- data.frame(\n  ID = 1:10,\n  name = c(\n    \"Ken Cussion\",\n    \"Ben Sacked\",\n    \"Justin Time\",\n    \"Lionel Scrimmage\",\n    \"Drew Blood\",\n    \"Hugo Long\",\n    \"Chase Emdown\",\n    \"Name8\",\n    \"Name9\",\n    \"Name10\"),\n  position = c(\"QB\",\"QB\",\"RB\",\"RB\",\"WR\",\"WR\",\"WR\",\"WR\",\"TE\",\"TE\"),\n  age = c(40, 30, 20, 18, 23, 27, 32, 26, 23, NA)\n  )\n\nfantasyPoints &lt;- data.frame(\n  ID = c(2, 6, 11, 12),\n  fantasyPoints = c(250, 170, 65, 15)\n)",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Getting Started with `R` for Data Analysis</span>"
    ]
  },
  {
    "objectID": "getting-started.html#sec-variableNames",
    "href": "getting-started.html#sec-variableNames",
    "title": "3  Getting Started with R for Data Analysis",
    "section": "3.7 Variable Names",
    "text": "3.7 Variable Names\nTo see the names of variables in a data frame, use the following syntax:\n\n\nCode\nnames(nfl_players)\n\n\n [1] \"status\"                   \"display_name\"            \n [3] \"first_name\"               \"last_name\"               \n [5] \"esb_id\"                   \"gsis_id\"                 \n [7] \"suffix\"                   \"birth_date\"              \n [9] \"college_name\"             \"position_group\"          \n[11] \"position\"                 \"jersey_number\"           \n[13] \"height\"                   \"weight\"                  \n[15] \"years_of_experience\"      \"team_abbr\"               \n[17] \"team_seq\"                 \"current_team_id\"         \n[19] \"football_name\"            \"entry_year\"              \n[21] \"rookie_year\"              \"draft_club\"              \n[23] \"college_conference\"       \"status_description_abbr\" \n[25] \"status_short_description\" \"gsis_it_id\"              \n[27] \"short_name\"               \"smart_id\"                \n[29] \"headshot\"                 \"draft_number\"            \n[31] \"uniform_number\"           \"draft_round\"             \n[33] \"season\"                  \n\n\nCode\nnames(players)\n\n\n[1] \"ID\"       \"name\"     \"position\" \"age\"     \n\n\nCode\nnames(fantasyPoints)\n\n\n[1] \"ID\"            \"fantasyPoints\"",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Getting Started with `R` for Data Analysis</span>"
    ]
  },
  {
    "objectID": "getting-started.html#sec-logicalOperators",
    "href": "getting-started.html#sec-logicalOperators",
    "title": "3  Getting Started with R for Data Analysis",
    "section": "3.8 Logical Operators",
    "text": "3.8 Logical Operators\n\n3.8.1 Is Equal To: ==\n\n\nCode\nplayers$position == \"RB\"\n\n\n [1] FALSE FALSE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE\n\n\n\n\n3.8.2 Is Not Equal To: !=\n\n\nCode\nplayers$position != \"RB\"\n\n\n [1]  TRUE  TRUE FALSE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE\n\n\n\n\n3.8.3 Is Greater Than: &gt;\n\n\nCode\nplayers$age &gt; 30\n\n\n [1]  TRUE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE    NA\n\n\n\n\n3.8.4 Is Less Than: &lt;\n\n\nCode\nplayers$age &lt; 30\n\n\n [1] FALSE FALSE  TRUE  TRUE  TRUE  TRUE FALSE  TRUE  TRUE    NA\n\n\n\n\n3.8.5 Is Greater Than or Equal To: &gt;=\n\n\nCode\nplayers$age &gt;= 30\n\n\n [1]  TRUE  TRUE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE    NA\n\n\n\n\n3.8.6 Is Less Than or Equal To: &lt;=\n\n\nCode\nplayers$age &lt;= 30\n\n\n [1] FALSE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE  TRUE  TRUE    NA\n\n\n\n\n3.8.7 Is In a Value of Another Vector: %in%\n\n\nCode\nplayers$position %in% c(\"RB\",\"WR\")\n\n\n [1] FALSE FALSE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE FALSE\n\n\n\n\n3.8.8 Is Not In a Value of Another Vector: !(%in%)\n\n\nCode\n!(players$position %in% c(\"RB\",\"WR\"))\n\n\n [1]  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE\n\n\n\n\n3.8.9 Is Missing: is.na()\n\n\nCode\nis.na(players$age)\n\n\n [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE\n\n\n\n\n3.8.10 Is Not Missing: !is.na()\n\n\nCode\n!is.na(players$age)\n\n\n [1]  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE  TRUE FALSE\n\n\n\n\n3.8.11 And: &\n\n\nCode\nplayers$position == \"WR\" & players$age &gt; 26\n\n\n [1] FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE FALSE FALSE FALSE\n\n\n\n\n3.8.12 Or: |\n\n\nCode\nplayers$position == \"WR\" | players$age &gt; 23\n\n\n [1]  TRUE  TRUE FALSE FALSE  TRUE  TRUE  TRUE  TRUE FALSE    NA",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Getting Started with `R` for Data Analysis</span>"
    ]
  },
  {
    "objectID": "getting-started.html#sec-subset",
    "href": "getting-started.html#sec-subset",
    "title": "3  Getting Started with R for Data Analysis",
    "section": "3.9 Subset",
    "text": "3.9 Subset\nTo subset a data frame, use brackets to specify the subset of rows and columns to keep, where the value/vector before the comma specifies the rows to keep, and the value/vector after the comma specifies the columns to keep:\n\n\nCode\ndataframe[rowsToKeep, columnsToKeep]\n\n\nYou can subset by using any of the following:\n\nnumeric indices of the rows/columns to keep (or drop)\nnames of the rows/columns to keep (or drop)\nvalues of TRUE and FALSE corresponding to which rows/columns to keep\n\n\n3.9.1 One Variable\nTo subset one variable, use the following syntax:\n\n\nCode\nplayers$name\n\n\n [1] \"Ken Cussion\"      \"Ben Sacked\"       \"Justin Time\"      \"Lionel Scrimmage\"\n [5] \"Drew Blood\"       \"Hugo Long\"        \"Chase Emdown\"     \"Name8\"           \n [9] \"Name9\"            \"Name10\"          \n\n\nor:\n\n\nCode\nplayers[,\"name\"]\n\n\n [1] \"Ken Cussion\"      \"Ben Sacked\"       \"Justin Time\"      \"Lionel Scrimmage\"\n [5] \"Drew Blood\"       \"Hugo Long\"        \"Chase Emdown\"     \"Name8\"           \n [9] \"Name9\"            \"Name10\"          \n\n\n\n\n3.9.2 Particular Rows of One Variable\nTo subset one variable, use the following syntax:\n\n\nCode\nplayers$name[which(players$position == \"RB\")]\n\n\n[1] \"Justin Time\"      \"Lionel Scrimmage\"\n\n\nor:\n\n\nCode\nplayers[which(players$position == \"RB\"), \"name\"]\n\n\n[1] \"Justin Time\"      \"Lionel Scrimmage\"\n\n\n\n\n3.9.3 Particular Columns (Variables)\nTo subset particular columns/variables, use the following syntax:\n\n3.9.3.1 Base R\n\n\nCode\nsubsetVars &lt;- c(\"name\",\"age\")\n\nplayers[,c(2,3)]\n\n\n\n  \n\n\n\nCode\nplayers[,c(\"name\",\"age\")]\n\n\n\n  \n\n\n\nCode\nplayers[,subsetVars]\n\n\n\n  \n\n\n\nOr, to drop columns:\n\n\nCode\ndropVars &lt;- c(\"name\",\"age\")\n\nplayers[,-c(2,3)]\n\n\n\n  \n\n\n\nCode\nplayers[,!(names(players) %in% c(\"name\",\"age\"))]\n\n\n\n  \n\n\n\nCode\nplayers[,!(names(players) %in% dropVars)]\n\n\n\n  \n\n\n\n\n\n3.9.3.2 Tidyverse\n\n\nCode\nplayers %&gt;%\n  select(name, age)\n\n\n\n  \n\n\n\nCode\nplayers %&gt;%\n  select(name:age)\n\n\n\n  \n\n\n\nCode\nplayers %&gt;%\n  select(all_of(subsetVars))\n\n\n\n  \n\n\n\nOr, to drop columns:\n\n\nCode\nplayers %&gt;%\n  select(-name, -age)\n\n\n\n  \n\n\n\nCode\nplayers %&gt;%\n  select(-c(position:age))\n\n\n\n  \n\n\n\nCode\nplayers %&gt;%\n  select(-all_of(dropVars))\n\n\n\n  \n\n\n\n\n\n\n3.9.4 Particular Rows\nTo subset particular rows, use the following syntax:\n\n3.9.4.1 Base R\n\n\nCode\nsubsetRows &lt;- c(3,4)\n\nplayers[c(3,4),]\n\n\n\n  \n\n\n\nCode\nplayers[subsetRows,]\n\n\n\n  \n\n\n\nCode\nplayers[which(players$position == \"RB\"),]\n\n\n\n  \n\n\n\n\n\n3.9.4.2 Tidyverse\n\n\nCode\nplayers %&gt;%\n  filter(position == \"WR\")\n\n\n\n  \n\n\n\nCode\nplayers %&gt;%\n  filter(position == \"WR\", age &lt;= 26)\n\n\n\n  \n\n\n\nCode\nplayers %&gt;%\n  filter(position == \"WR\" | age &gt;= 26)\n\n\n\n  \n\n\n\n\n\n\n3.9.5 Particular Rows and Columns\nTo subset particular rows and columns, use the following syntax:\n\n3.9.5.1 Base R\n\n\nCode\nplayers[c(3,4), c(2,4)]\n\n\n\n  \n\n\n\nCode\nplayers[subsetRows, subsetVars]\n\n\n\n  \n\n\n\nCode\nplayers[which(players$position == \"RB\"), subsetVars]\n\n\n\n  \n\n\n\n\n\n3.9.5.2 Tidyverse\n\n\nCode\nplayers %&gt;%\n  filter(position == \"RB\") %&gt;%\n  select(all_of(subsetVars))",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Getting Started with `R` for Data Analysis</span>"
    ]
  },
  {
    "objectID": "getting-started.html#sec-viewData",
    "href": "getting-started.html#sec-viewData",
    "title": "3  Getting Started with R for Data Analysis",
    "section": "3.10 View Data",
    "text": "3.10 View Data\n\n3.10.1 All Data\nTo view data, use the following syntax:\n\n\nCode\nView(players)\n\n\n\n\n3.10.2 First 6 Rows/Elements\nTo view only the first six rows (if a data frame) or elements (if a vector), use the following syntax:\n\n\nCode\nhead(nfl_players)\n\n\n\n  \n\n\n\nCode\nhead(nfl_players$display_name)\n\n\n[1] \"'Omar Ellison\"    \"A'Shawn Robinson\" \"A.J. Arcuri\"      \"A.J. Bouye\"      \n[5] \"A.J. Brown\"       \"A.J. Cann\"",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Getting Started with `R` for Data Analysis</span>"
    ]
  },
  {
    "objectID": "getting-started.html#sec-dataCharacteristics",
    "href": "getting-started.html#sec-dataCharacteristics",
    "title": "3  Getting Started with R for Data Analysis",
    "section": "3.11 Data Characteristics",
    "text": "3.11 Data Characteristics\n\n3.11.1 Data Structure\n\n\nCode\nstr(nfl_players)\n\n\nnflvrs_d [20,039 × 33] (S3: nflverse_data/tbl_df/tbl/data.table/data.frame)\n $ status                  : chr [1:20039] \"RET\" \"ACT\" \"ACT\" \"RES\" ...\n $ display_name            : chr [1:20039] \"'Omar Ellison\" \"A'Shawn Robinson\" \"A.J. Arcuri\" \"A.J. Bouye\" ...\n $ first_name              : chr [1:20039] \"'Omar\" \"A'Shawn\" \"A.J.\" \"Arlandus\" ...\n $ last_name               : chr [1:20039] \"Ellison\" \"Robinson\" \"Arcuri\" \"Bouye\" ...\n $ esb_id                  : chr [1:20039] \"ELL711319\" \"ROB367960\" \"ARC716900\" \"BOU651714\" ...\n $ gsis_id                 : chr [1:20039] \"00-0004866\" \"00-0032889\" \"00-0037845\" \"00-0030228\" ...\n $ suffix                  : chr [1:20039] NA NA NA NA ...\n $ birth_date              : chr [1:20039] NA \"1995-03-21\" NA \"1991-08-16\" ...\n $ college_name            : chr [1:20039] NA \"Alabama\" \"Michigan State\" \"Central Florida\" ...\n $ position_group          : chr [1:20039] \"WR\" \"DL\" \"OL\" \"DB\" ...\n $ position                : chr [1:20039] \"WR\" \"DT\" \"T\" \"CB\" ...\n $ jersey_number           : int [1:20039] 84 91 61 24 11 60 6 81 63 20 ...\n $ height                  : num [1:20039] 73 76 79 72 72 75 76 69 76 72 ...\n $ weight                  : int [1:20039] 200 330 320 191 226 325 220 190 280 183 ...\n $ years_of_experience     : chr [1:20039] \"2\" \"8\" \"2\" \"8\" ...\n $ team_abbr               : chr [1:20039] \"LAC\" \"NYG\" \"LA\" \"CAR\" ...\n $ team_seq                : int [1:20039] NA 1 NA 1 1 1 1 NA NA NA ...\n $ current_team_id         : chr [1:20039] \"4400\" \"3410\" \"2510\" \"0750\" ...\n $ football_name           : chr [1:20039] NA \"A'Shawn\" \"A.J.\" \"A.J.\" ...\n $ entry_year              : int [1:20039] NA 2016 2022 2013 2019 2015 2019 NA NA NA ...\n $ rookie_year             : int [1:20039] NA 2016 2022 2013 2019 2015 2019 NA NA NA ...\n $ draft_club              : chr [1:20039] NA \"DET\" \"LA\" NA ...\n $ college_conference      : chr [1:20039] NA \"Southeastern Conference\" \"Big Ten Conference\" \"American Athletic Conference\" ...\n $ status_description_abbr : chr [1:20039] NA \"A01\" \"A01\" \"R01\" ...\n $ status_short_description: chr [1:20039] NA \"Active\" \"Active\" \"R/Injured\" ...\n $ gsis_it_id              : int [1:20039] NA 43335 54726 40688 47834 42410 48335 NA NA NA ...\n $ short_name              : chr [1:20039] NA \"A.Robinson\" \"A.Arcuri\" \"A.Bouye\" ...\n $ smart_id                : chr [1:20039] \"3200454c-4c71-1319-728e-d49d3d236f8f\" \"3200524f-4236-7960-bf20-bc060ac0f49c\" \"32004152-4371-6900-5185-8cdd66b2ad11\" \"3200424f-5565-1714-cb38-07c822111a12\" ...\n $ headshot                : chr [1:20039] NA \"https://static.www.nfl.com/image/private/f_auto,q_auto/league/qgiwxchd1lmgszfunys8\" NA \"https://static.www.nfl.com/image/private/f_auto,q_auto/league/cpgi2hbhnmvs1oczkzas\" ...\n $ draft_number            : int [1:20039] NA 46 261 NA 51 67 NA NA NA NA ...\n $ uniform_number          : chr [1:20039] NA \"91\" \"61\" \"24\" ...\n $ draft_round             : chr [1:20039] NA NA NA NA ...\n $ season                  : int [1:20039] NA NA NA NA NA NA NA NA NA NA ...\n - attr(*, \"nflverse_type\")= chr \"players\"\n - attr(*, \"nflverse_timestamp\")= POSIXct[1:1], format: \"2024-03-01 01:18:40\"\n\n\n\n\n3.11.2 Data Dimensions\nNumber of rows and columns:\n\n\nCode\ndim(nfl_players)\n\n\n[1] 20039    33\n\n\n\n\n3.11.3 Number of Elements\n\n\nCode\nlength(nfl_players$display_name)\n\n\n[1] 20039\n\n\n\n\n3.11.4 Number of Missing Elements\n\n\nCode\nlength(nfl_players$college_name[which(is.na(nfl_players$college_name))])\n\n\n[1] 12127\n\n\n\n\n3.11.5 Number of Non-Missing Elements\n\n\nCode\nlength(nfl_players$college_name[which(!is.na(nfl_players$college_name))])\n\n\n[1] 7912\n\n\nCode\nlength(na.omit(nfl_players$college_name))\n\n\n[1] 7912",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Getting Started with `R` for Data Analysis</span>"
    ]
  },
  {
    "objectID": "getting-started.html#sec-createNewVars",
    "href": "getting-started.html#sec-createNewVars",
    "title": "3  Getting Started with R for Data Analysis",
    "section": "3.12 Create New Variables",
    "text": "3.12 Create New Variables\nTo create a new variable, use the following syntax:\n\n\nCode\nplayers$newVar &lt;- NA\n\n\nHere is an example of creating a new variable:\n\n\nCode\nplayers$newVar &lt;- 1:nrow(players)",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Getting Started with `R` for Data Analysis</span>"
    ]
  },
  {
    "objectID": "getting-started.html#sec-recodeVars",
    "href": "getting-started.html#sec-recodeVars",
    "title": "3  Getting Started with R for Data Analysis",
    "section": "3.13 Recode Variables",
    "text": "3.13 Recode Variables\nHere is an example of recoding a variable:\n\n\nCode\nplayers$oldVar1 &lt;- NA\nplayers$oldVar1[which(players$position == \"QB\")] &lt;- \"quarterback\"\nplayers$oldVar1[which(players$position == \"RB\")] &lt;- \"running back\"\nplayers$oldVar1[which(players$position == \"WR\")] &lt;- \"wide receiver\"\nplayers$oldVar1[which(players$position == \"TE\")] &lt;- \"tight end\"\n\nplayers$oldVar2 &lt;- NA\nplayers$oldVar2[which(players$age &lt; 30)] &lt;- \"young\"\nplayers$oldVar2[which(players$age &gt;= 30)] &lt;- \"old\"\n\n\nRecode multiple variables:\n\n\nCode\nplayers %&gt;%\n  mutate(across(c(\n    oldVar1:oldVar2),\n    ~ case_match(\n      .,\n      c(\"quarterback\",\"old\",\"running back\") ~ 0,\n      c(\"wide receiver\",\"tight end\",\"young\") ~ 1)))",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Getting Started with `R` for Data Analysis</span>"
    ]
  },
  {
    "objectID": "getting-started.html#renameVars",
    "href": "getting-started.html#renameVars",
    "title": "3  Getting Started with R for Data Analysis",
    "section": "3.14 Rename Variables",
    "text": "3.14 Rename Variables\n\n\nCode\nplayers &lt;- players %&gt;% \n  rename(\n    newVar1 = oldVar1,\n    newVar2 = oldVar2)\n\n\nUsing a vector of variable names:\n\n\nCode\nvarNamesFrom &lt;- c(\"oldVar1\",\"oldVar2\")\nvarNamesTo &lt;- c(\"newVar1\",\"newVar2\")\n\nplayers &lt;- players %&gt;% \n  rename_with(~ varNamesTo, all_of(varNamesFrom))",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Getting Started with `R` for Data Analysis</span>"
    ]
  },
  {
    "objectID": "getting-started.html#convertVarTypes",
    "href": "getting-started.html#convertVarTypes",
    "title": "3  Getting Started with R for Data Analysis",
    "section": "3.15 Convert the Types of Variables",
    "text": "3.15 Convert the Types of Variables\nOne variable:\n\n\nCode\nplayers$factorVar &lt;- factor(players$ID)\nplayers$numericVar &lt;- as.numeric(players$age)\nplayers$integerVar &lt;- as.integer(players$newVar1)\nplayers$characterVar &lt;- as.character(players$newVar2)\n\n\nMultiple variables:\n\n\nCode\nplayers %&gt;%\n  mutate(across(c(\n    ID,\n    age),\n    as.numeric))\n\n\n\n  \n\n\n\nCode\nplayers %&gt;%\n  mutate(across(\n    age:newVar1,\n    as.character))\n\n\n\n  \n\n\n\nCode\nplayers %&gt;%\n  mutate(across(where(is.factor), as.character))",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Getting Started with `R` for Data Analysis</span>"
    ]
  },
  {
    "objectID": "getting-started.html#sec-merging",
    "href": "getting-started.html#sec-merging",
    "title": "3  Getting Started with R for Data Analysis",
    "section": "3.16 Merging/Joins",
    "text": "3.16 Merging/Joins\n\n3.16.1 Overview\nMerging (also called joining) merges two data objects using a shared set of variables called “keys.” The keys are the variable(s) that uniquely identify each row (i.e., they account for the levels of nesting). In some data objects, the key might be the participant’s ID (e.g., participantID). However, some data objects have multiple keys. For instance, in long form data objects, each participant may have multiple rows corresponding to multiple timepoints. In this case, the keys are participantID and timepoint. If a participant has multiple rows corresponding to timepoints and measures, the keys are participantID, timepoint, and measure. In general, each row should have a value on each of the keys; there should be no missingness in the keys.\nTo merge two objects, the keys must be present in both objects. The keys are used to merge the variables in object 1 (x) with the variables in object 2 (y). Different merge types select different rows to merge.\nNote: if the two objects include variables with the same name (apart from the keys), R will not know how you want each to appear in the merged object. So, it will add a suffix (e.g., .x, .y) to each common variable to indicate which object (i.e., object x or object y) the variable came from, where object x is the first object—i.e., the object to which object y (the second object) is merged. In general, apart from the keys, you should not include variables with the same name in two objects to be merged. To prevent this, either remove or rename the shared variable in one of the objects, or include the shared variable as a key. However, as described above, you should include it as a key only if it uniquely identifies each row in terms of levels of nesting.\n\n\n3.16.2 Data Before Merging\nHere are the data in the players object:\n\n\nCode\nplayers\n\n\n\n  \n\n\n\nCode\ndim(players)\n\n\n[1] 10 10\n\n\nThe data are structured in ID form. That is, every row in the dataset is uniquely identified by the variable, ID.\nHere are the data in the fantasyPoints object:\n\n\nCode\nfantasyPoints\n\n\n\n  \n\n\n\nCode\ndim(fantasyPoints)\n\n\n[1] 4 2\n\n\n\n\n3.16.3 Types of Joins\n\n3.16.3.1 Visual Overview of Join Types\nBelow is a visual that depicts various types of merges/joins. Object x is the circle labeled as x. Object y is the circle labeled as y. The area of overlap in the Venn diagram indicates the rows on the keys that are shared between the two objects (e.g., the same player_id, season, and week). The non-overlapping area indicates the rows on the keys that are unique to each object. The shaded blue area indicates which rows (on the keys) are kept in the merged object from each of the two objects, when using each of the merge types. For instance, a left outer join keeps the shared rows and the rows that are unique to object x, but it drops the rows that are unique to object y.\n\n\n\nTypes of merges/joins\n\n\n\n\n3.16.3.2 Full Outer Join\nA full outer join includes all rows in \\(x\\) or \\(y\\). It returns columns from \\(x\\) and \\(y\\). Here is how to merge two data frames using a full outer join (i.e., “full join”):\n\n\nCode\nfullJoinData &lt;- full_join(\n  players,\n  fantasyPoints,\n  by = \"ID\")\n\nfullJoinData\n\n\n\n  \n\n\n\nCode\ndim(fullJoinData)\n\n\n[1] 12 11\n\n\n\n\n3.16.3.3 Left Outer Join\nA left outer join includes all rows in \\(x\\). It returns columns from \\(x\\) and \\(y\\). Here is how to merge two data frames using a left outer join (“left join”):\n\n\nCode\nleftJoinData &lt;- left_join(\n  players,\n  fantasyPoints,\n  by = \"ID\")\n\nleftJoinData\n\n\n\n  \n\n\n\nCode\ndim(leftJoinData)\n\n\n[1] 10 11\n\n\n\n\n3.16.3.4 Right Outer Join\nA right outer join includes all rows in \\(y\\). It returns columns from \\(x\\) and \\(y\\). Here is how to merge two data frames using a right outer join (“right join”):\n\n\nCode\nrightJoinData &lt;- right_join(\n  players,\n  fantasyPoints,\n  by = \"ID\")\n\nrightJoinData\n\n\n\n  \n\n\n\nCode\ndim(rightJoinData)\n\n\n[1]  4 11\n\n\n\n\n3.16.3.5 Inner Join\nAn inner join includes all rows that are in both \\(x\\) and \\(y\\). An inner join will return one row of \\(x\\) for each matching row of \\(y\\), and can duplicate values of records on either side (left or right) if \\(x\\) and \\(y\\) have more than one matching record. It returns columns from \\(x\\) and \\(y\\). Here is how to merge two data frames using an inner join:\n\n\nCode\ninnerJoinData &lt;- inner_join(\n  players,\n  fantasyPoints,\n  by = \"ID\")\n\ninnerJoinData\n\n\n\n  \n\n\n\nCode\ndim(innerJoinData)\n\n\n[1]  2 11\n\n\n\n\n3.16.3.6 Semi Join\nA semi join is a filter. A left semi join returns all rows from \\(x\\) with a match in \\(y\\). That is, it filters out records from \\(x\\) that are not in \\(y\\). Unlike an inner join, a left semi join will never duplicate rows of \\(x\\), and it includes columns from only \\(x\\) (not from \\(y\\)). Here is how to merge two data frames using a left semi join:\n\n\nCode\nsemiJoinData &lt;- semi_join(\n  players,\n  fantasyPoints,\n  by = \"ID\")\n\nsemiJoinData\n\n\n\n  \n\n\n\nCode\ndim(semiJoinData)\n\n\n[1]  2 10\n\n\n\n\n3.16.3.7 Anti Join\nAn anti join is a filter. A left anti join returns all rows from \\(x\\) without a match in \\(y\\). That is, it filters out records from \\(x\\) that are in \\(y\\). It returns columns from only \\(x\\) (not from \\(y\\)). Here is how to merge two data frames using a left anti join:\n\n\nCode\nantiJoinData &lt;- anti_join(\n  players,\n  fantasyPoints,\n  by = \"ID\")\n\nantiJoinData\n\n\n\n  \n\n\n\nCode\ndim(antiJoinData)\n\n\n[1]  8 10\n\n\n\n\n3.16.3.8 Cross Join\nA cross join combines each row in \\(x\\) with each row in \\(y\\).\n\n\nCode\ncrossJoinData &lt;- cross_join(\n  players,\n  fantasyPoints)\n\ncrossJoinData\n\n\n\n  \n\n\n\nCode\ndim(crossJoinData)\n\n\n[1] 40 12",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Getting Started with `R` for Data Analysis</span>"
    ]
  },
  {
    "objectID": "getting-started.html#sec-longToWide",
    "href": "getting-started.html#sec-longToWide",
    "title": "3  Getting Started with R for Data Analysis",
    "section": "3.17 Transform Data from Long to Wide",
    "text": "3.17 Transform Data from Long to Wide\nHere are the data in the nfl_actualStats_offense_weekly object. The data are structured in player-season-week form. That is, every row in the dataset is uniquely identified by the variables, player_id, season, and week.\nOriginal data:\n\n\nCode\ndataLong &lt;- nfl_actualStats_offense_weekly %&gt;% \n  select(player_id, player_display_name, season, week, fantasy_points)\n\ndim(dataLong)\n\n\n[1] 129739      5\n\n\nBelow, we widen the data widened by two variables (season and week), using tidyverse, so that the data are now in player form (where each row is uniquely identified by the player_id variable):\n\n\nCode\ndataWide &lt;- dataLong %&gt;% \n  pivot_wider(\n    names_from = c(season, week),\n    names_glue = \"{.value}_{season}_week{week}\",\n    values_from = fantasy_points)\n\ndim(dataWide)\n\n\n[1] 4021  530",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Getting Started with `R` for Data Analysis</span>"
    ]
  },
  {
    "objectID": "getting-started.html#sec-wideToLong",
    "href": "getting-started.html#sec-wideToLong",
    "title": "3  Getting Started with R for Data Analysis",
    "section": "3.18 Transform Data from Wide to Long",
    "text": "3.18 Transform Data from Wide to Long\nOriginal data:\n\n\nCode\ndataWide &lt;- nfl_actualStats_offense_weekly %&gt;% \n  select(player_id, player_display_name, season, week, recent_team, opponent_team)\n\ndim(dataWide)\n\n\n[1] 129739      6\n\n\nData in long form, transformed from wide form using tidyverse:\n\n\nCode\ndataLong &lt;- dataWide %&gt;% \n  pivot_longer(\n    cols = c(recent_team, opponent_team),\n    names_to = \"role\",\n    values_to = \"team\")\n\ndim(dataLong)\n\n\n[1] 259478      6",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Getting Started with `R` for Data Analysis</span>"
    ]
  },
  {
    "objectID": "getting-started.html#sec-calculations",
    "href": "getting-started.html#sec-calculations",
    "title": "3  Getting Started with R for Data Analysis",
    "section": "3.19 Calculations",
    "text": "3.19 Calculations\n\n3.19.1 Historical Actual Player Statistics\nIn addition to week-by-week actual player statistics, we can also compute historical actual player statistics as a function of different timeframes, including season-by-season and career statistics.\n\n3.19.1.1 Career Statistics\nFirst, we can compute the players’ career statistics using the calculate_player_stats(), calculate_player_stats_def(), and calculate_player_stats_kicking() functions from the nflfastR package for offensive players, defensive players, and kickers, respectively.\n\n\n\n\n\n\nNote 3.3: Calculating players’ career statistics\n\n\n\nNote: the following code takes a while to run.\n\n\n\n\nCode\nnfl_actualStats_offense_career &lt;- nflfastR::calculate_player_stats(\n  nfl_pbp,\n  weekly = FALSE)\n\nnfl_actualStats_defense_career &lt;- nflfastR::calculate_player_stats_def(\n  nfl_pbp,\n  weekly = FALSE)\n\nnfl_actualStats_kicking_career &lt;- nflfastR::calculate_player_stats_kicking(\n  nfl_pbp,\n  weekly = FALSE)\n\n\n\n\n3.19.1.2 Season-by-Season Statistics\nSecond, we can compute the players’ season-by-season statistics.\n\n\nCode\nseasons &lt;- unique(nfl_pbp$season)\n\nnfl_pbp_seasonalList &lt;- list()\nnfl_actualStats_offense_seasonalList &lt;- list()\nnfl_actualStats_defense_seasonalList &lt;- list()\nnfl_actualStats_kicking_seasonalList &lt;- list()\n\n\n\n\n\n\n\n\nNote 3.4: Calculating players’ season-by-season statistics\n\n\n\nNote: the following code takes a while to run.\n\n\n\n\nCode\npb &lt;- txtProgressBar(\n  min = 0,\n  max = length(seasons),\n  style = 3)\n\nfor(i in 1:length(seasons)){\n  # Subset play-by-play data by season\n  nfl_pbp_seasonalList[[i]] &lt;- nfl_pbp %&gt;% \n    filter(season == seasons[i])\n  \n  # Compute actual statistics by season\n  nfl_actualStats_offense_seasonalList[[i]] &lt;- \n    nflfastR::calculate_player_stats(\n      nfl_pbp_seasonalList[[i]],\n      weekly = FALSE)\n\n  nfl_actualStats_defense_seasonalList[[i]] &lt;- \n    nflfastR::calculate_player_stats_def(\n      nfl_pbp_seasonalList[[i]],\n      weekly = FALSE)\n\n  nfl_actualStats_kicking_seasonalList[[i]] &lt;- \n    nflfastR::calculate_player_stats_kicking(\n      nfl_pbp_seasonalList[[i]],\n      weekly = FALSE)\n\n  nfl_actualStats_offense_seasonalList[[i]]$season &lt;- seasons[i]\n  nfl_actualStats_defense_seasonalList[[i]]$season &lt;- seasons[i]\n  nfl_actualStats_kicking_seasonalList[[i]]$season &lt;- seasons[i]\n  \n  print(\n    paste(\"Completed computing projections for season: \", seasons[i], sep = \"\"))\n\n  # Update the progress bar\n  setTxtProgressBar(pb, i)\n}\n\n# Close the progress bar\nclose(pb)\n\nnfl_actualStats_offense_seasonal &lt;- nfl_actualStats_offense_seasonalList %&gt;% \n  bind_rows()\nnfl_actualStats_defense_seasonal &lt;- nfl_actualStats_defense_seasonalList %&gt;% \n  bind_rows()\nnfl_actualStats_kicking_seasonal &lt;- nfl_actualStats_kicking_seasonalList %&gt;% \n  bind_rows()\n\n\n\n\n3.19.1.3 Week-by-Week Statistics\nWe already load players’ week-by-week statistics above. Nevertheless, we could compute players’ weekly statistics from the play-by-play data using the following syntax:\n\n\nCode\nnfl_actualStats_offense_weekly &lt;- nflfastR::calculate_player_stats(\n  nfl_pbp,\n  weekly = TRUE)\n\nnfl_actualStats_defense_weekly &lt;- nflfastR::calculate_player_stats_def(\n  nfl_pbp,\n  weekly = TRUE)\n\nnfl_actualStats_kicking_weekly &lt;- nflfastR::calculate_player_stats_kicking(\n  nfl_pbp,\n  weekly = TRUE)\n\n\n\n\n\n3.19.2 Historical Actual Fantasy Points\nSpecify scoring settings:\n\n3.19.2.1 Weekly\n\n\n3.19.2.2 Seasonal\n\n\n3.19.2.3 Career\n\n\n\n3.19.3 Player Age\n\n\nCode\n# Reshape from wide to long format\nnfl_actualStats_offense_weekly_long &lt;- nfl_actualStats_offense_weekly %&gt;% \n  pivot_longer(\n    cols = c(recent_team, opponent_team),\n    names_to = \"role\",\n    values_to = \"team\")\n\n# Perform separate inner join operations for the home_team and away_team\nnfl_actualStats_offense_weekly_home &lt;- inner_join(\n  nfl_actualStats_offense_weekly_long,\n  nfl_schedules,\n  by = c(\"season\",\"week\",\"team\" = \"home_team\")) %&gt;% \n  mutate(home_away = \"home_team\")\n\nnfl_actualStats_offense_weekly_away &lt;- inner_join(\n  nfl_actualStats_offense_weekly_long,\n  nfl_schedules,\n  by = c(\"season\",\"week\",\"team\" = \"away_team\")) %&gt;% \n  mutate(home_away = \"away_team\")\n\nnfl_actualStats_defense_weekly_home &lt;- inner_join(\n  nfl_actualStats_defense_weekly,\n  nfl_schedules,\n  by = c(\"season\",\"week\",\"team\" = \"home_team\")) %&gt;% \n  mutate(home_away = \"home_team\")\n\nnfl_actualStats_defense_weekly_away &lt;- inner_join(\n  nfl_actualStats_defense_weekly,\n  nfl_schedules,\n  by = c(\"season\",\"week\",\"team\" = \"away_team\")) %&gt;% \n  mutate(home_away = \"away_team\")\n\nnfl_actualStats_kicking_weekly_home &lt;- inner_join(\n  nfl_actualStats_kicking_weekly,\n  nfl_schedules,\n  by = c(\"season\",\"week\",\"team\" = \"home_team\")) %&gt;% \n  mutate(home_away = \"home_team\")\n\nnfl_actualStats_kicking_weekly_away &lt;- inner_join(\n  nfl_actualStats_kicking_weekly,\n  nfl_schedules,\n  by = c(\"season\",\"week\",\"team\" = \"away_team\")) %&gt;% \n  mutate(home_away = \"away_team\")\n\n# Combine the results of the join operations\nnfl_actualStats_offense_weekly_schedules_long &lt;- bind_rows(\n  nfl_actualStats_offense_weekly_home,\n  nfl_actualStats_offense_weekly_away)\n\nnfl_actualStats_defense_weekly_schedules_long &lt;- bind_rows(\n  nfl_actualStats_defense_weekly_home,\n  nfl_actualStats_defense_weekly_away)\n\nnfl_actualStats_kicking_weekly_schedules_long &lt;- bind_rows(\n  nfl_actualStats_kicking_weekly_home,\n  nfl_actualStats_kicking_weekly_away)\n\n# Reshape from long to wide\nplayer_game_gameday_offense &lt;- nfl_actualStats_offense_weekly_schedules_long %&gt;%\n  distinct(player_id, season, week, game_id, home_away, team, gameday) %&gt;% #, .keep_all = TRUE\n  pivot_wider(\n    names_from = home_away,\n    values_from = team)\n\nplayer_game_gameday_defense &lt;- nfl_actualStats_defense_weekly_schedules_long %&gt;%\n  distinct(player_id, season, week, game_id, home_away, team, gameday) %&gt;% #, .keep_all = TRUE\n  pivot_wider(\n    names_from = home_away,\n    values_from = team)\n\nplayer_game_gameday_kicking &lt;- nfl_actualStats_kicking_weekly_schedules_long %&gt;%\n  distinct(player_id, season, week, game_id, home_away, team, gameday) %&gt;% #, .keep_all = TRUE\n  pivot_wider(\n    names_from = home_away,\n    values_from = team)\n\n# Merge player birthdate and the game date\nplayer_game_birthdate_gameday_offense &lt;- left_join(\n  player_game_gameday_offense,\n  unique(nfl_players[,c(\"gsis_id\",\"birth_date\")]),\n  by = c(\"player_id\" = \"gsis_id\")\n)\n\nplayer_game_birthdate_gameday_defense &lt;- left_join(\n  player_game_gameday_defense,\n  unique(nfl_players[,c(\"gsis_id\",\"birth_date\")]),\n  by = c(\"player_id\" = \"gsis_id\")\n)\n\nplayer_game_birthdate_gameday_kicking &lt;- left_join(\n  player_game_gameday_kicking,\n  unique(nfl_players[,c(\"gsis_id\",\"birth_date\")]),\n  by = c(\"player_id\" = \"gsis_id\")\n)\n\nplayer_game_birthdate_gameday_offense$birth_date &lt;- ymd(player_game_birthdate_gameday_offense$birth_date)\nplayer_game_birthdate_gameday_offense$gameday &lt;- ymd(player_game_birthdate_gameday_offense$gameday)\n\nplayer_game_birthdate_gameday_defense$birth_date &lt;- ymd(player_game_birthdate_gameday_defense$birth_date)\nplayer_game_birthdate_gameday_defense$gameday &lt;- ymd(player_game_birthdate_gameday_defense$gameday)\n\nplayer_game_birthdate_gameday_kicking$birth_date &lt;- ymd(player_game_birthdate_gameday_kicking$birth_date)\nplayer_game_birthdate_gameday_kicking$gameday &lt;- ymd(player_game_birthdate_gameday_kicking$gameday)\n\n# Calculate player's age for a given week as the difference between their birthdate and the game date\nplayer_game_birthdate_gameday_offense$age &lt;- interval(\n  start = player_game_birthdate_gameday_offense$birth_date,\n  end = player_game_birthdate_gameday_offense$gameday\n) %&gt;% \n  time_length(unit = \"years\")\n\nplayer_game_birthdate_gameday_defense$age &lt;- interval(\n  start = player_game_birthdate_gameday_defense$birth_date,\n  end = player_game_birthdate_gameday_defense$gameday\n) %&gt;% \n  time_length(unit = \"years\")\n\nplayer_game_birthdate_gameday_kicking$age &lt;- interval(\n  start = player_game_birthdate_gameday_kicking$birth_date,\n  end = player_game_birthdate_gameday_kicking$gameday\n) %&gt;% \n  time_length(unit = \"years\")\n\n# Merge with player info\nplayer_age_offense &lt;-  left_join(\n  player_game_birthdate_gameday_offense,\n  nfl_players %&gt;% select(-birth_date, -season),\n  by = c(\"player_id\" = \"gsis_id\"))\n\nplayer_age_defense &lt;-  left_join(\n  player_game_birthdate_gameday_defense,\n  nfl_players %&gt;% select(-birth_date, -season),\n  by = c(\"player_id\" = \"gsis_id\"))\n\nplayer_age_kicking &lt;-  left_join(\n  player_game_birthdate_gameday_kicking,\n  nfl_players %&gt;% select(-birth_date, -season),\n  by = c(\"player_id\" = \"gsis_id\"))\n\n# Add game_id to weekly stats to facilitate merging\nnfl_actualStats_game_offense_weekly &lt;- nfl_actualStats_offense_weekly %&gt;% \n  left_join(\n    player_age_offense[,c(\"season\",\"week\",\"player_id\",\"game_id\")],\n    by = c(\"season\",\"week\",\"player_id\"))\n\nnfl_actualStats_game_defense_weekly &lt;- nfl_actualStats_defense_weekly %&gt;% \n  left_join(\n    player_age_offense[,c(\"season\",\"week\",\"player_id\",\"game_id\")],\n    by = c(\"season\",\"week\",\"player_id\"))\n\nnfl_actualStats_game_kicking_weekly &lt;- nfl_actualStats_kicking_weekly %&gt;% \n  left_join(\n    player_age_offense[,c(\"season\",\"week\",\"player_id\",\"game_id\")],\n    by = c(\"season\",\"week\",\"player_id\"))\n\n# Merge with player weekly stats\nplayer_age_stats_offense &lt;- left_join(\n  player_age_offense %&gt;% select(-position, -position_group),\n  nfl_actualStats_game_offense_weekly,\n  by = c(c(\"season\",\"week\",\"player_id\",\"game_id\")))\n\nplayer_age_stats_defense &lt;- left_join(\n  player_age_defense %&gt;% select(-position, -position_group),\n  nfl_actualStats_game_defense_weekly,\n  by = c(c(\"season\",\"week\",\"player_id\",\"game_id\")))\n\nplayer_age_stats_kicking &lt;- left_join(\n  player_age_kicking %&gt;% select(-position, -position_group),\n  nfl_actualStats_game_kicking_weekly,\n  by = c(c(\"season\",\"week\",\"player_id\",\"game_id\")))\n\nplayer_age_stats_offense$years_of_experience &lt;- as.integer(player_age_stats_offense$years_of_experience)\nplayer_age_stats_defense$years_of_experience &lt;- as.integer(player_age_stats_defense$years_of_experience)\nplayer_age_stats_kicking$years_of_experience &lt;- as.integer(player_age_stats_kicking$years_of_experience)\n\n# Merge player info with seasonal stats\nplayer_seasonal_offense &lt;- left_join(\n  nfl_actualStats_offense_seasonal,\n  nfl_players %&gt;% select(-position, -position_group, -season),\n  by = c(\"player_id\" = \"gsis_id\")\n)\n\nplayer_seasonal_defense &lt;- left_join(\n  nfl_actualStats_defense_seasonal,\n  nfl_players %&gt;% select(-position, -position_group, -season),\n  by = c(\"player_id\" = \"gsis_id\")\n)\n\nplayer_seasonal_kicking &lt;- left_join(\n  nfl_actualStats_kicking_seasonal,\n  nfl_players %&gt;% select(-position, -position_group, -season),\n  by = c(\"player_id\" = \"gsis_id\")\n)\n\n# Calculate age\nseason_startdate &lt;- nfl_schedules %&gt;% \n  group_by(season) %&gt;% \n  summarise(startdate = min(gameday, na.rm = TRUE))\n\nplayer_seasonal_offense &lt;- player_seasonal_offense %&gt;% \n  left_join(\n    season_startdate,\n    by = \"season\"\n  )\n\nplayer_seasonal_defense &lt;- player_seasonal_defense %&gt;% \n  left_join(\n    season_startdate,\n    by = \"season\"\n  )\n\nplayer_seasonal_kicking &lt;- player_seasonal_kicking %&gt;% \n  left_join(\n    season_startdate,\n    by = \"season\"\n  )\n\nplayer_seasonal_offense$age &lt;- interval(\n  start = player_seasonal_offense$birth_date,\n  end = player_seasonal_offense$startdate\n) %&gt;% \n  time_length(unit = \"years\")\n\nplayer_seasonal_defense$age &lt;- interval(\n  start = player_seasonal_defense$birth_date,\n  end = player_seasonal_defense$startdate\n) %&gt;% \n  time_length(unit = \"years\")\n\nplayer_seasonal_kicking$age &lt;- interval(\n  start = player_seasonal_kicking$birth_date,\n  end = player_seasonal_kicking$startdate\n) %&gt;% \n  time_length(unit = \"years\")",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Getting Started with `R` for Data Analysis</span>"
    ]
  },
  {
    "objectID": "getting-started.html#sec-plotting",
    "href": "getting-started.html#sec-plotting",
    "title": "3  Getting Started with R for Data Analysis",
    "section": "3.20 Plotting",
    "text": "3.20 Plotting\n\n3.20.1 Rushing Yards per Carry By Player Age\n\n\nCode\n# Prepare Data\nrushing_attempts &lt;- nfl_pbp %&gt;% \n  dplyr::filter(\n    season_type == \"REG\") %&gt;% \n    filter(\n      rush == 1,\n      rush_attempt == 1,\n      qb_scramble == 0,\n      qb_dropback == 0,\n      !is.na(rushing_yards))\n\nrb_yardsPerCarry &lt;- rushing_attempts %&gt;% \n  group_by(rusher_id, season) %&gt;% \n  summarise(\n    ypc = mean(rushing_yards, na.rm = TRUE),\n    rush_attempts = n(),\n    .groups = \"drop\") %&gt;% \n  ungroup() %&gt;% \n  left_join(\n    nfl_players %&gt;% select(-season),\n    by = c(\"rusher_id\" = \"gsis_id\")\n  ) %&gt;% \n  filter(\n    position_group == \"RB\",\n    rush_attempts &gt;= 50) %&gt;% \n  left_join(\n    season_startdate,\n    by = \"season\"\n  )\n\nrb_yardsPerCarry$age &lt;- interval(\n  start = rb_yardsPerCarry$birth_date,\n  end = rb_yardsPerCarry$startdate\n) %&gt;% \n  time_length(unit = \"years\")\n\n# Create Plot\nggplot2::ggplot(\n  data = rb_yardsPerCarry,\n  ggplot2::aes(\n    x = age,\n    y = ypc)) +\n  ggplot2::geom_point() +\n  ggplot2::geom_smooth() +\n  ggplot2::labs(\n    x = \"Rushing Back Age (years)\",\n    y = \"Rushing Yards per Carry/season\",\n    title = \"2023 NFL Rushing Yards Per Carry per Season by Player Age\",\n    subtitle = \"(minimum 50 rushing attempts)\"\n  ) +\n  ggplot2::theme_classic()\n\n\n\n\n\n\n\n\n\n\n\nCode\n# Subset Data\nrb_seasonal &lt;- player_seasonal_offense %&gt;% \n  filter(position_group == \"RB\")\n\n# Create Plot\nggplot2::ggplot(\n  data = rb_seasonal,\n  ggplot2::aes(\n    x = age,\n    y = rushing_epa)) +\n  ggplot2::geom_point() +\n  ggplot2::geom_smooth() +\n  ggplot2::labs(\n    x = \"Rushing Back Age (years)\",\n    y = \"Rushing EPA/season\",\n    title = \"2023 NFL Rushing EPA per Season by Player Age\"\n  ) +\n  ggplot2::theme_classic()\n\n\n\n\n\n\n\n\n\n\n\n3.20.2 Defensive and Offensive EPA per Play\nExpected points added (EPA) per play by the team with possession.\n\n\nCode\npbp_regularSeason &lt;- nfl_pbp %&gt;% \n  dplyr::filter(\n    season == 2023,\n    season_type == \"REG\") %&gt;%\n  dplyr::filter(!is.na(posteam) & (rush == 1 | pass == 1))\n\nepa_offense &lt;- pbp_regularSeason %&gt;%\n  dplyr::group_by(team = posteam) %&gt;%\n  dplyr::summarise(off_epa = mean(epa, na.rm = TRUE))\n\nepa_defense &lt;- pbp_regularSeason %&gt;%\n  dplyr::group_by(team = defteam) %&gt;%\n  dplyr::summarise(def_epa = mean(epa, na.rm = TRUE))\n\nepa_combined &lt;- epa_offense %&gt;%\n  dplyr::inner_join(epa_defense, by = \"team\")\n\nggplot2::ggplot(\n  data = epa_combined,\n  ggplot2::aes(\n    x = off_epa,\n    y = def_epa)) +\n  nflplotR::geom_mean_lines(\n    ggplot2::aes(\n      x0 = off_epa ,\n      y0 = def_epa)) +\n  nflplotR::geom_nfl_logos(\n    ggplot2::aes(\n      team_abbr = team),\n      width = 0.065,\n      alpha = 0.7) +\n  ggplot2::labs(\n    x = \"Offense EPA/play\",\n    y = \"Defense EPA/play\",\n    title = \"2023 NFL Offensive and Defensive EPA per Play\"\n  ) +\n  ggplot2::theme_classic() +\n  ggplot2::scale_y_reverse()\n\n\n\n\n\n\n\n\nFigure 3.1: 2023 NFL Offensive and Defensive EPA per Play",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Getting Started with `R` for Data Analysis</span>"
    ]
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "I need your help!\n    \n    I want your feedback to make the book better for you and other readers. If you find typos, errors, or places where the text may be improved, please let me know.\n    The best ways to provide feedback are by GitHub or hypothes.is annotations.\n    \n\n    \n      \n      Opening an issue or submitting a pull request on GitHub: https://github.com/isaactpetersen/Fantasy-Football-Analytics-Textbook\n    \n    \n      \n      Adding an annotation using hypothes.is.\n      To add an annotation, select some text and then click the\n      \n      \n    \n    \n      symbol on the pop-up menu.\n      To see the annotations of others, click the\n      \n\n      symbol in the upper right-hand corner of the page.\n    \n  \n\n\n\n\n\n\n\nMotz, B. (2013). Fantasy football: A touchdown for undergraduate\nstatistics education. Proceedings of the Games, Learning, and\nSociety Conference, 9.0, 222–228. https://doi.org/10.1184/R1/6686804.v1",
    "crumbs": [
      "References"
    ]
  }
]