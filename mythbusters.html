<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<meta name="author" content="Isaac T. Petersen">
<meta name="dcterms.date" content="today">
<title>18&nbsp; Mythbusters: Putting Fantasy Football Beliefs/Anecdotes to the Test – Fantasy Football Analytics: Statistics, Prediction, and Empiricism Using R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./machine-learning.html" rel="next">
<link href="./evaluating-prediction-accuracy.html" rel="prev">
<link href="./images/logo.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-bb1cd4028f63a369ab283e072cb7d572.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-54c8f25464f32f8783bd446cee98020d.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-bb1cd4028f63a369ab283e072cb7d572.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-9be0be348ad53823ff161d1a1ef978d8.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark-d4727fef54d5ba1f892cea2c0407faf0.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="site_libs/bootstrap/bootstrap-9be0be348ad53823ff161d1a1ef978d8.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-C3SNF7Y0PJ"></script><script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-C3SNF7Y0PJ', { 'anonymize_ip': true});
</script><script type="application/json" class="js-hypothesis-config">
{
  "theme": "classic",
  "openSidebar": false,
  "showHighlights": "whenSidebarOpen"
}
</script><script async="" src="https://hypothes.is/embed.js"></script><script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script><link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script><script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>
<meta property="og:title" content="18&nbsp; Mythbusters: Putting Fantasy Football Beliefs/Anecdotes to the Test – Fantasy Football Analytics: Statistics, Prediction, and Empiricism Using R">
<meta property="og:description" content="">
<meta property="og:site_name" content="Fantasy Football Analytics: Statistics, Prediction, and Empiricism Using R">
<meta name="twitter:title" content="18&nbsp; Mythbusters: Putting Fantasy Football Beliefs/Anecdotes to the Test – Fantasy Football Analytics: Statistics, Prediction, and Empiricism Using R">
<meta name="twitter:description" content="">
<meta name="twitter:card" content="summary">
</head>
<body class="nav-sidebar floating quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const darkModeDefault = authorPrefersDark;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./mythbusters.html"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Mythbusters: Putting Fantasy Football Beliefs/Anecdotes to the Test</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Fantasy Football Analytics: Statistics, Prediction, and Empiricism Using R</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/isaactpetersen/Fantasy-Football-Analytics-Textbook" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
    <div class="dropdown">
      <a href="" title="Share" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" role="link" aria-label="Share"><i class="bi bi-share"></i></a>
      <ul class="dropdown-menu" aria-labelledby="quarto-navigation-tool-dropdown-0">
<li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://twitter.com/intent/tweet?url=%7Curl%7C">
              <i class="bi bi-twitter pe-1"></i>
            Twitter
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.facebook.com/sharer/sharer.php?u=%7Curl%7C">
              <i class="bi bi-facebook pe-1"></i>
            Facebook
            </a>
          </li>
          <li>
            <a class="dropdown-item sidebar-tools-main-item" href="https://www.linkedin.com/sharing/share-offsite/?url=%7Curl%7C">
              <i class="bi bi-linkedin pe-1"></i>
            LinkedIn
            </a>
          </li>
      </ul>
</div>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./fantasy-football.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Intro to Football and Fantasy</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./getting-started.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Getting Started with <code>R</code> for Data Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./download-football-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Download and Process NFL Football Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./data-visualization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Data Visualization</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./player-evaluation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Player Evaluation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./draft.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">The Fantasy Draft</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./research-methods.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Research Methods</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./basic-statistics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Basic Statistics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./correlation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Correlation Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./multiple-regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Multiple Regression</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mixed-models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Mixed Models</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./causal-inference.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Causal Inference</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cognitive-bias.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Heuristics and Cognitive Biases in Prediction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./actuarial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Judgment Versus Actuarial Approaches to Prediction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./base-rates.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Base Rates</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./evaluating-prediction-accuracy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Evaluation of Prediction/Forecasting Accuracy</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./mythbusters.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Mythbusters: Putting Fantasy Football Beliefs/Anecdotes to the Test</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./machine-learning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Machine Learning</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modern-portfolio-theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Modern Portfolio Theory</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cluster-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Cluster Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./factor-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Factor Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pca.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Data Reduction: Principal Component Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./simulation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Simulation: Bootstrapping and the Monte Carlo Method</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./time-series-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Time Series Analysis</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./decision-making.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Decision Making in the Context of Uncertainty</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./sports-cognitive-psychology.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">27</span>&nbsp; <span class="chapter-title">Sports and Cognitive Psychology</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li>
<a href="#sec-mythbustersGettingStarted" id="toc-sec-mythbustersGettingStarted" class="nav-link active" data-scroll-target="#sec-mythbustersGettingStarted"><span class="header-section-number">18.1</span> Getting Started</a>
  <ul>
<li><a href="#sec-mythbustersLoadPackages" id="toc-sec-mythbustersLoadPackages" class="nav-link" data-scroll-target="#sec-mythbustersLoadPackages"><span class="header-section-number">18.1.1</span> Load Packages</a></li>
  <li><a href="#sec-mythbustersPackageOptions" id="toc-sec-mythbustersPackageOptions" class="nav-link" data-scroll-target="#sec-mythbustersPackageOptions"><span class="header-section-number">18.1.2</span> Specify Package Options</a></li>
  <li><a href="#sec-mythbustersLoadData" id="toc-sec-mythbustersLoadData" class="nav-link" data-scroll-target="#sec-mythbustersLoadData"><span class="header-section-number">18.1.3</span> Load Data</a></li>
  </ul>
</li>
  <li>
<a href="#sec-contractYear" id="toc-sec-contractYear" class="nav-link" data-scroll-target="#sec-contractYear"><span class="header-section-number">18.2</span> Do Players Perform Better in their Contract Year?</a>
  <ul>
<li>
<a href="#sec-contractYearQB" id="toc-sec-contractYearQB" class="nav-link" data-scroll-target="#sec-contractYearQB"><span class="header-section-number">18.2.1</span> QB</a>
  <ul>
<li><a href="#sec-contractYearQB-QBR" id="toc-sec-contractYearQB-QBR" class="nav-link" data-scroll-target="#sec-contractYearQB-QBR"><span class="header-section-number">18.2.1.1</span> Quarterback Rating</a></li>
  <li><a href="#sec-contractYearQB-PointsAdded" id="toc-sec-contractYearQB-PointsAdded" class="nav-link" data-scroll-target="#sec-contractYearQB-PointsAdded"><span class="header-section-number">18.2.1.2</span> Points Added</a></li>
  <li><a href="#sec-contractYearQB-ExpectedPointsAdded" id="toc-sec-contractYearQB-ExpectedPointsAdded" class="nav-link" data-scroll-target="#sec-contractYearQB-ExpectedPointsAdded"><span class="header-section-number">18.2.1.3</span> Expected Points Added</a></li>
  <li><a href="#sec-contractYearQB-FantasyPoints" id="toc-sec-contractYearQB-FantasyPoints" class="nav-link" data-scroll-target="#sec-contractYearQB-FantasyPoints"><span class="header-section-number">18.2.1.4</span> Fantasy Points</a></li>
  </ul>
</li>
  <li>
<a href="#sec-contractYearRB" id="toc-sec-contractYearRB" class="nav-link" data-scroll-target="#sec-contractYearRB"><span class="header-section-number">18.2.2</span> RB</a>
  <ul>
<li><a href="#sec-contractYearRB-YPC" id="toc-sec-contractYearRB-YPC" class="nav-link" data-scroll-target="#sec-contractYearRB-YPC"><span class="header-section-number">18.2.2.1</span> Yards Per Carry</a></li>
  <li><a href="#sec-contractYearRB-EPA" id="toc-sec-contractYearRB-EPA" class="nav-link" data-scroll-target="#sec-contractYearRB-EPA"><span class="header-section-number">18.2.2.2</span> Expected Points Added</a></li>
  <li><a href="#sec-contractYearRB-FantasyPoints" id="toc-sec-contractYearRB-FantasyPoints" class="nav-link" data-scroll-target="#sec-contractYearRB-FantasyPoints"><span class="header-section-number">18.2.2.3</span> Fantasy Points</a></li>
  </ul>
</li>
  <li>
<a href="#sec-contractYearWRTE" id="toc-sec-contractYearWRTE" class="nav-link" data-scroll-target="#sec-contractYearWRTE"><span class="header-section-number">18.2.3</span> WR/TE</a>
  <ul>
<li><a href="#sec-contractYearWRTE-ReceivingYards" id="toc-sec-contractYearWRTE-ReceivingYards" class="nav-link" data-scroll-target="#sec-contractYearWRTE-ReceivingYards"><span class="header-section-number">18.2.3.1</span> Receiving Yards</a></li>
  <li><a href="#sec-contractYearWRTE-EPA" id="toc-sec-contractYearWRTE-EPA" class="nav-link" data-scroll-target="#sec-contractYearWRTE-EPA"><span class="header-section-number">18.2.3.2</span> Expected Points Added</a></li>
  <li><a href="#sec-contractYearWRTE-FantasyPoints" id="toc-sec-contractYearWRTE-FantasyPoints" class="nav-link" data-scroll-target="#sec-contractYearWRTE-FantasyPoints"><span class="header-section-number">18.2.3.3</span> Fantasy Points</a></li>
  </ul>
</li>
  <li>
<a href="#sec-contractYearQBRBWRTE" id="toc-sec-contractYearQBRBWRTE" class="nav-link" data-scroll-target="#sec-contractYearQBRBWRTE"><span class="header-section-number">18.2.4</span> QB/RB/WR/TE</a>
  <ul>
<li><a href="#sec-contractYearQBRBWRTE-FantasyPoints" id="toc-sec-contractYearQBRBWRTE-FantasyPoints" class="nav-link" data-scroll-target="#sec-contractYearQBRBWRTE-FantasyPoints"><span class="header-section-number">18.2.4.1</span> Fantasy Points</a></li>
  </ul>
</li>
  </ul>
</li>
  <li><a href="#sec-mythbustersConclusion" id="toc-sec-mythbustersConclusion" class="nav-link" data-scroll-target="#sec-mythbustersConclusion"><span class="header-section-number">18.3</span> Conclusion</a></li>
  <li><a href="#sec-mythbustersSessionInfo" id="toc-sec-mythbustersSessionInfo" class="nav-link" data-scroll-target="#sec-mythbustersSessionInfo"><span class="header-section-number">18.4</span> Session Info</a></li>
  </ul><div class="toc-actions"><ul><li><a href="https://github.com/isaactpetersen/Fantasy-Football-Analytics-Textbook/edit/main/mythbusters.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/isaactpetersen/Fantasy-Football-Analytics-Textbook/blob/main/mythbusters.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li><li><a href="https://github.com/isaactpetersen/Fantasy-Football-Analytics-Textbook/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><div class="alert alert-info hints-alert">
  <div class="hints-icon">
    <i class="fa fa-comments-o"></i>
  </div>
  <div class="hints-container">
    <b>I need your help!</b>
    <p>
    I want your feedback to make the book better for you and other readers. If you find typos, errors, or places where the text may be improved, please let me know.
    The best ways to provide feedback are by <a href="https://github.com/isaactpetersen/Fantasy-Football-Analytics-Textbook">GitHub</a> or <a href="https://hypothes.is">hypothes.is</a> annotations.
    </p>

    <p>
      <i class="fa fa-github"></i>
      You can leave a comment at the bottom of the page/chapter, or <a href="https://github.com/isaactpetersen/Fantasy-Football-Analytics-Textbook/issues">open an issue</a> or <a href="https://github.com/isaactpetersen/Fantasy-Football-Analytics-Textbook/pulls">submit a pull request</a> on GitHub: <a href="https://github.com/isaactpetersen/Fantasy-Football-Analytics-Textbook">https://github.com/isaactpetersen/Fantasy-Football-Analytics-Textbook</a>
    </p>
    <p>
      <img style="display: inline;" src="https://hypothes.is/organizations/__default__/logo" alt="Hypothesis">
      Alternatively, you can leave an annotation using <a href="https://hypothes.is">hypothes.is</a>.
      To add an annotation, <span style="background-color: #3297FD; color: white">select some text</span> and then click the
      <span class="svg-icon--inline"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 16 16" class="annotator-adder-actions__icon"><path fill="currentColor" fill-rule="nonzero" d="M15 0c.27 0 .505.099.703.297A.961.961 0 0116 1v15l-4-3H1a.974.974 0 01-.703-.29A.953.953 0 010 12V1C0 .719.096.482.29.29A.966.966 0 011 0h14zM7 3l-.469.063c-.312.041-.656.187-1.031.437-.375.25-.719.646-1.031 1.188C4.156 5.229 4 6 4 7l.002.063.006.062a.896.896 0 01.008.11l-.002.074-.006.066a1.447 1.447 0 00.43 1.188C4.729 8.854 5.082 9 5.5 9c.417 0 .77-.146 1.063-.438C6.854 8.271 7 7.918 7 7.5c0-.417-.146-.77-.438-1.063A1.447 1.447 0 005.5 6c-.073 0-.146.005-.219.016-.073.01-.14.026-.203.046.177-1.03.542-1.632 1.094-1.804L7 4V3zm5 0l-.469.063c-.312.041-.656.187-1.031.437-.375.25-.719.646-1.031 1.188C9.156 5.229 9 6 9 7l.002.063.006.062a.896.896 0 01.008.11l-.002.074-.006.066a1.447 1.447 0 00.43 1.188c.291.291.645.437 1.062.437.417 0 .77-.146 1.063-.438.291-.291.437-.645.437-1.062 0-.417-.146-.77-.438-1.063A1.447 1.447 0 0010.5 6c-.073 0-.146.005-.219.016-.073.01-.14.026-.203.046.177-1.03.542-1.632 1.094-1.804L12 4V3z"></path></svg></span>
      symbol on the pop-up menu.
      To see the annotations of others, click the
      <span class="svg-icon--inline"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 16 16" class=""><g fill-rule="evenodd"><rect fill="none" stroke="none" x="0" y="0" width="16" height="16"></rect><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 12L6 8l4-4"></path></g></svg></span>
      symbol in the upper right-hand corner of the page.
    </p>
  </div>
</div>

<header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title"><span id="sec-mythbusters" class="quarto-section-identifier"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Mythbusters: Putting Fantasy Football Beliefs/Anecdotes to the Test</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header><p>In this chapter, we put a popular fantasy football belief to the test. We evaluate the widely held belief that players perform better during a contract year.</p>
<section id="sec-mythbustersGettingStarted" class="level2" data-number="18.1"><h2 data-number="18.1" class="anchored" data-anchor-id="sec-mythbustersGettingStarted">
<span class="header-section-number">18.1</span> Getting Started</h2>
<section id="sec-mythbustersLoadPackages" class="level3" data-number="18.1.1"><h3 data-number="18.1.1" class="anchored" data-anchor-id="sec-mythbustersLoadPackages">
<span class="header-section-number">18.1.1</span> Load Packages</h3>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(<span class="st">"petersenlab"</span>)</span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(<span class="st">"nflreadr"</span>)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(<span class="st">"lme4"</span>)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">library</span>(<span class="st">"lmerTest"</span>)</span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">library</span>(<span class="st">"performance"</span>)</span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="fu">library</span>(<span class="st">"emmeans"</span>)</span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="fu">library</span>(<span class="st">"tidyverse"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section><section id="sec-mythbustersPackageOptions" class="level3" data-number="18.1.2"><h3 data-number="18.1.2" class="anchored" data-anchor-id="sec-mythbustersPackageOptions">
<span class="header-section-number">18.1.2</span> Specify Package Options</h3>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">emm_options</span>(<span class="at">lmerTest.limit =</span> <span class="dv">100000</span>)</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="fu">emm_options</span>(<span class="at">pbkrtest.limit =</span> <span class="dv">100000</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section><section id="sec-mythbustersLoadData" class="level3" data-number="18.1.3"><h3 data-number="18.1.3" class="anchored" data-anchor-id="sec-mythbustersLoadData">
<span class="header-section-number">18.1.3</span> Load Data</h3>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">load</span>(<span class="at">file =</span> <span class="st">"./data/nfl_playerContracts.RData"</span>)</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="fu">load</span>(<span class="at">file =</span> <span class="st">"./data/player_stats_weekly.RData"</span>)</span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="fu">load</span>(<span class="at">file =</span> <span class="st">"./data/player_stats_seasonal.RData"</span>)</span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="fu">load</span>(<span class="at">file =</span> <span class="st">"./data/nfl_espnQBR_seasonal.RData"</span>)</span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="fu">load</span>(<span class="at">file =</span> <span class="st">"./data/nfl_espnQBR_weekly.RData"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>We created the <code>player_stats_weekly.RData</code> and <code>player_stats_seasonal.RData</code> objects in <a href="download-football-data.html#sec-calculatePlayerAge" class="quarto-xref"><span>Section 4.4.3</span></a>.</p>
</section></section><section id="sec-contractYear" class="level2" data-number="18.2"><h2 data-number="18.2" class="anchored" data-anchor-id="sec-contractYear">
<span class="header-section-number">18.2</span> Do Players Perform Better in their Contract Year?</h2>
<p>Considerable speculation exists regarding whether players perform better in their last year of their contract (i.e., their “contract year”). Fantasy football talking heads and commentators frequently discuss the benefit of selecting players who are in their contract year, because it supposedly means that player has more motivation to perform well so they get a new contract and get paid more. To our knowledge, no peer-reviewed studies have examined this question for football players. One study found that National Basketball Association (NBA) players improved in field goal percentage, points, and player efficiency rating (but not other statistics: rebounds, assists, steals, or blocks) from their pre-contract year to their contract year, and that Major League Baseball (MLB) players improved in runs batted in (RBIs; but not other statistics: batting average, slugging percentage, on base percentage, home runs, fielding percentage) from their pre-contract year to their contract year <span class="citation" data-cites="White2014a">(<a href="references.html#ref-White2014a" role="doc-biblioref">White &amp; Sheldon, 2014</a>)</span>. Other casual analyses have been examined contract-year performance of National Football League (NFL) players, including articles in <a href="https://www.4for4.com/2012/preseason/2012-contract-year-players-and-myth-increased-production">2012</a> [<span class="citation" data-cites="Bales2012">Bales (<a href="references.html#ref-Bales2012" role="doc-biblioref">2012</a>)</span>; archived <a href="https://perma.cc/CT3F-QN5E">here</a>] and <a href="https://www.4for4.com/2022/preseason/do-players-perform-better-fantasy-football-contract-year">2022</a> [<span class="citation" data-cites="Niles2022">Niles (<a href="references.html#ref-Niles2022" role="doc-biblioref">2022</a>)</span>; archived <a href="https://perma.cc/F4F5-7RQZ">here</a>].</p>
<p>Let’s examine the question empirically. Our <u>research questions</u> is: Do players perform better in their “contract year” (i.e., the last year of their contract)? Our <u>hypothesis</u> is that players are motivated to get larger contracts (more money), leading players in their contract year to try harder and perform better. If the hypothesis is true, we <u>predict</u> that players who are in their contract year will tend to score more fantasy points than players who are not in their contract year.</p>
<p>In order to test this question empirically, we have to make some assumptions/constraints. In this example, we will make the following constraints:</p>
<ul>
<li>We will determine a player’s contract year programmatically based on the year the contract was signed. For instance, if a player signed a 3-year contract in 2015, their contract would expire in 2018, and thus their contract year would be 2017. Note: this is a coarse way of determining a player’s contract year because it could depend on when during the year the player’s contract is signed. If we were submitting this analysis as a paper to a scientific journal, it would be important to verify each player’s contract year.</li>
<li>We will examine performance in all seasons since 2011, beginning when most data for player contracts are available.</li>
<li>For maximum <a href="basic-statistics.html#sec-statisticalPower">statistical power</a> to detect an effect if a contract year effect exists, we will examine all seasons for a player (since 2011), not just their contract year and their pre-contract year.</li>
<li>To ensure a more fair, apples-to-apples comparison of the games in which players played, we will examine <em>per-game</em> performance (except for yards per carry, which is based on <span class="math inline">\(\frac{\text{rushing yards}}{\text{carries}}\)</span> from the entire season).</li>
<li>We will examine regular season games only (no postseason).</li>
<li>To ensure we do not make generalization about a player’s performance in a season from a small sample, the player has to play at least 5 games in a given season for that player–season combination to be included in analysis.</li>
</ul>
<p>For analysis, the same player contributes multiple observations of performance (i.e., multiple seasons) due to the longitudinal nature of the data. Inclusion of multiple data points from the same player would violate the <a href="multiple-regression.html#sec-assumptionsRegression">assumption of multiple regression</a> that all observations are independent. Thus, we use mixed-effects models that allow nonindependent observations. In our mixed-effects models, we include a random intercept for each player, to allow our model to account for players’ differing level of performance. We examine two mixed-effects models for each outcome variable: one model that accounts for the effects of age and experience, and one model that does not.</p>
<p>The model that does not account for the effects of age and experience includes:</p>
<ol type="a">
<li>random intercepts to allow the model to estimate a different starting point for each player</li>
<li>a fixed effect for whether the player is in a contract year</li>
</ol>
<p>The model that accounts for the effects of age and experience includes:</p>
<ol type="a">
<li>random intercepts to allow the model to estimate a different starting point for each player</li>
<li>random linear slopes (i.e., random effect of linear age) to allow the model to estimate a different form of change for each player</li>
<li>a fixed quadratic effect of age to allow for curvilinear effects</li>
<li>a fixed effect of experience</li>
<li>a fixed effect for whether the player is in a contract year</li>
</ol>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="co"># Subset to remove players without a year signed</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>nfl_playerContracts_subset <span class="ot">&lt;-</span> nfl_playerContracts <span class="sc">%&gt;%</span> </span>
<span id="cb4-3"><a href="#cb4-3"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(year_signed) <span class="sc">&amp;</span> year_signed <span class="sc">!=</span> <span class="dv">0</span>)</span>
<span id="cb4-4"><a href="#cb4-4"></a></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co"># Determine the contract year for a given contract</span></span>
<span id="cb4-6"><a href="#cb4-6"></a>nfl_playerContracts_subset<span class="sc">$</span>contractYear <span class="ot">&lt;-</span> nfl_playerContracts_subset<span class="sc">$</span>year_signed <span class="sc">+</span> nfl_playerContracts_subset<span class="sc">$</span>years <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb4-7"><a href="#cb4-7"></a></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="co"># Arrange contracts by player and year_signed</span></span>
<span id="cb4-9"><a href="#cb4-9"></a>nfl_playerContracts_subset <span class="ot">&lt;-</span> nfl_playerContracts_subset <span class="sc">%&gt;%</span></span>
<span id="cb4-10"><a href="#cb4-10"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(player, position) <span class="sc">%&gt;%</span> </span>
<span id="cb4-11"><a href="#cb4-11"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(player, position, <span class="sc">-</span>year_signed) <span class="sc">%&gt;%</span> </span>
<span id="cb4-12"><a href="#cb4-12"></a>  dplyr<span class="sc">::</span><span class="fu">ungroup</span>()</span>
<span id="cb4-13"><a href="#cb4-13"></a></span>
<span id="cb4-14"><a href="#cb4-14"></a><span class="co"># Determine if the player played in the original contract year</span></span>
<span id="cb4-15"><a href="#cb4-15"></a>nfl_playerContracts_subset <span class="ot">&lt;-</span> nfl_playerContracts_subset <span class="sc">%&gt;%</span></span>
<span id="cb4-16"><a href="#cb4-16"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(player, position) <span class="sc">%&gt;%</span></span>
<span id="cb4-17"><a href="#cb4-17"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb4-18"><a href="#cb4-18"></a>    <span class="at">next_contract_start =</span> <span class="fu">lag</span>(year_signed)) <span class="sc">%&gt;%</span></span>
<span id="cb4-19"><a href="#cb4-19"></a>  dplyr<span class="sc">::</span><span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb4-20"><a href="#cb4-20"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb4-21"><a href="#cb4-21"></a>    <span class="at">played_in_contract_year =</span> <span class="fu">ifelse</span>(</span>
<span id="cb4-22"><a href="#cb4-22"></a>      <span class="fu">is.na</span>(next_contract_start) <span class="sc">|</span> contractYear <span class="sc">&lt;</span> next_contract_start,</span>
<span id="cb4-23"><a href="#cb4-23"></a>      <span class="cn">TRUE</span>,</span>
<span id="cb4-24"><a href="#cb4-24"></a>      <span class="cn">FALSE</span>))</span>
<span id="cb4-25"><a href="#cb4-25"></a></span>
<span id="cb4-26"><a href="#cb4-26"></a><span class="co"># Check individual players</span></span>
<span id="cb4-27"><a href="#cb4-27"></a><span class="co">#nfl_playerContracts_subset %&gt;% </span></span>
<span id="cb4-28"><a href="#cb4-28"></a><span class="co">#  dplyr::filter(player == "Aaron Rodgers") %&gt;% </span></span>
<span id="cb4-29"><a href="#cb4-29"></a><span class="co">#  dplyr::select(player:years, contractYear, next_contract_start, played_in_contract_year)</span></span>
<span id="cb4-30"><a href="#cb4-30"></a><span class="co">#</span></span>
<span id="cb4-31"><a href="#cb4-31"></a><span class="co">#nfl_playerContracts_subset %&gt;% </span></span>
<span id="cb4-32"><a href="#cb4-32"></a><span class="co">#  dplyr::filter(player %in% c("Jared Allen", "Aaron Rodgers")) %&gt;% </span></span>
<span id="cb4-33"><a href="#cb4-33"></a><span class="co">#  dplyr::select(player:years, contractYear, next_contract_start, played_in_contract_year)</span></span>
<span id="cb4-34"><a href="#cb4-34"></a></span>
<span id="cb4-35"><a href="#cb4-35"></a><span class="co"># Subset data</span></span>
<span id="cb4-36"><a href="#cb4-36"></a>nfl_playerContractYears <span class="ot">&lt;-</span> nfl_playerContracts_subset <span class="sc">%&gt;%</span> </span>
<span id="cb4-37"><a href="#cb4-37"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(played_in_contract_year <span class="sc">==</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-38"><a href="#cb4-38"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(position <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"QB"</span>,<span class="st">"RB"</span>,<span class="st">"WR"</span>,<span class="st">"TE"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb4-39"><a href="#cb4-39"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(player, position, team, contractYear) <span class="sc">%&gt;%</span> </span>
<span id="cb4-40"><a href="#cb4-40"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">merge_name =</span> nflreadr<span class="sc">::</span><span class="fu">clean_player_names</span>(player, <span class="at">lowercase =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb4-41"><a href="#cb4-41"></a>  dplyr<span class="sc">::</span><span class="fu">rename</span>(<span class="at">season =</span> contractYear) <span class="sc">%&gt;%</span> </span>
<span id="cb4-42"><a href="#cb4-42"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">contractYear =</span> <span class="dv">1</span>)</span>
<span id="cb4-43"><a href="#cb4-43"></a></span>
<span id="cb4-44"><a href="#cb4-44"></a><span class="co"># Merge with weekly and seasonal stats data</span></span>
<span id="cb4-45"><a href="#cb4-45"></a>player_stats_weekly_offense <span class="ot">&lt;-</span> player_stats_weekly <span class="sc">%&gt;%</span> </span>
<span id="cb4-46"><a href="#cb4-46"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(position_group <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"QB"</span>,<span class="st">"RB"</span>,<span class="st">"WR"</span>,<span class="st">"TE"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb4-47"><a href="#cb4-47"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">merge_name =</span> nflreadr<span class="sc">::</span><span class="fu">clean_player_names</span>(player_display_name, <span class="at">lowercase =</span> <span class="cn">TRUE</span>))</span>
<span id="cb4-48"><a href="#cb4-48"></a><span class="co">#nfl_actualStats_offense_seasonal &lt;- nfl_actualStats_offense_seasonal %&gt;% </span></span>
<span id="cb4-49"><a href="#cb4-49"></a><span class="co">#  mutate(merge_name = nflreadr::clean_player_names(player_display_name, lowercase = TRUE))</span></span>
<span id="cb4-50"><a href="#cb4-50"></a></span>
<span id="cb4-51"><a href="#cb4-51"></a>player_statsContracts_offense_weekly <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">full_join</span>(</span>
<span id="cb4-52"><a href="#cb4-52"></a>  player_stats_weekly_offense,</span>
<span id="cb4-53"><a href="#cb4-53"></a>  nfl_playerContractYears,</span>
<span id="cb4-54"><a href="#cb4-54"></a>  <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"merge_name"</span>, <span class="st">"position_group"</span> <span class="ot">=</span> <span class="st">"position"</span>, <span class="st">"season"</span>)</span>
<span id="cb4-55"><a href="#cb4-55"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-56"><a href="#cb4-56"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(position_group <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"QB"</span>,<span class="st">"RB"</span>,<span class="st">"WR"</span>,<span class="st">"TE"</span>))</span>
<span id="cb4-57"><a href="#cb4-57"></a></span>
<span id="cb4-58"><a href="#cb4-58"></a><span class="co">#player_statsContracts_offense_seasonal &lt;- full_join(</span></span>
<span id="cb4-59"><a href="#cb4-59"></a><span class="co">#  player_stats_seasonal_offense,</span></span>
<span id="cb4-60"><a href="#cb4-60"></a><span class="co">#  nfl_playerContractYears,</span></span>
<span id="cb4-61"><a href="#cb4-61"></a><span class="co">#  by = c("merge_name", "position_group" = "position", "season")</span></span>
<span id="cb4-62"><a href="#cb4-62"></a><span class="co">#) %&gt;% </span></span>
<span id="cb4-63"><a href="#cb4-63"></a><span class="co">#  filter(position_group %in% c("QB","RB","WR","TE"))</span></span>
<span id="cb4-64"><a href="#cb4-64"></a></span>
<span id="cb4-65"><a href="#cb4-65"></a>player_statsContracts_offense_weekly<span class="sc">$</span>contractYear[<span class="fu">which</span>(<span class="fu">is.na</span>(player_statsContracts_offense_weekly<span class="sc">$</span>contractYear))] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb4-66"><a href="#cb4-66"></a><span class="co">#player_statsContracts_offense_seasonal$contractYear[which(is.na(player_statsContracts_offense_seasonal$contractYear))] &lt;- 0</span></span>
<span id="cb4-67"><a href="#cb4-67"></a></span>
<span id="cb4-68"><a href="#cb4-68"></a><span class="co">#player_statsContracts_offense_weekly$contractYear &lt;- factor(</span></span>
<span id="cb4-69"><a href="#cb4-69"></a><span class="co">#  player_statsContracts_offense_weekly$contractYear,</span></span>
<span id="cb4-70"><a href="#cb4-70"></a><span class="co">#  levels = c(0, 1),</span></span>
<span id="cb4-71"><a href="#cb4-71"></a><span class="co">#  labels = c("no", "yes"))</span></span>
<span id="cb4-72"><a href="#cb4-72"></a></span>
<span id="cb4-73"><a href="#cb4-73"></a><span class="co">#player_statsContracts_offense_seasonal$contractYear &lt;- factor(</span></span>
<span id="cb4-74"><a href="#cb4-74"></a><span class="co">#  player_statsContracts_offense_seasonal$contractYear,</span></span>
<span id="cb4-75"><a href="#cb4-75"></a><span class="co">#  levels = c(0, 1),</span></span>
<span id="cb4-76"><a href="#cb4-76"></a><span class="co">#  labels = c("no", "yes"))</span></span>
<span id="cb4-77"><a href="#cb4-77"></a></span>
<span id="cb4-78"><a href="#cb4-78"></a>player_statsContracts_offense_weekly <span class="ot">&lt;-</span> player_statsContracts_offense_weekly <span class="sc">%&gt;%</span> </span>
<span id="cb4-79"><a href="#cb4-79"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(merge_name, season, season_type, week)</span>
<span id="cb4-80"><a href="#cb4-80"></a></span>
<span id="cb4-81"><a href="#cb4-81"></a><span class="co">#player_statsContracts_offense_seasonal &lt;- player_statsContracts_offense_seasonal %&gt;% </span></span>
<span id="cb4-82"><a href="#cb4-82"></a><span class="co">#  arrange(merge_name, season)</span></span>
<span id="cb4-83"><a href="#cb4-83"></a></span>
<span id="cb4-84"><a href="#cb4-84"></a>player_statsContractsSubset_offense_weekly <span class="ot">&lt;-</span> player_statsContracts_offense_weekly <span class="sc">%&gt;%</span> </span>
<span id="cb4-85"><a href="#cb4-85"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(season_type <span class="sc">==</span> <span class="st">"REG"</span>)</span>
<span id="cb4-86"><a href="#cb4-86"></a></span>
<span id="cb4-87"><a href="#cb4-87"></a><span class="co">#table(nfl_playerContracts$year_signed) # most contract data is available beginning in 2011</span></span>
<span id="cb4-88"><a href="#cb4-88"></a></span>
<span id="cb4-89"><a href="#cb4-89"></a><span class="co"># Calculate Per Game Totals</span></span>
<span id="cb4-90"><a href="#cb4-90"></a>player_statsContracts_seasonal <span class="ot">&lt;-</span> player_statsContractsSubset_offense_weekly <span class="sc">%&gt;%</span> </span>
<span id="cb4-91"><a href="#cb4-91"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(player_id, season) <span class="sc">%&gt;%</span> </span>
<span id="cb4-92"><a href="#cb4-92"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(</span>
<span id="cb4-93"><a href="#cb4-93"></a>    <span class="at">player_display_name =</span> petersenlab<span class="sc">::</span><span class="fu">Mode</span>(player_display_name),</span>
<span id="cb4-94"><a href="#cb4-94"></a>    <span class="at">position_group =</span> petersenlab<span class="sc">::</span><span class="fu">Mode</span>(position_group),</span>
<span id="cb4-95"><a href="#cb4-95"></a>    <span class="at">age =</span> <span class="fu">min</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb4-96"><a href="#cb4-96"></a>    <span class="at">years_of_experience =</span> <span class="fu">min</span>(years_of_experience, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb4-97"><a href="#cb4-97"></a>    <span class="at">rushing_yards =</span> <span class="fu">sum</span>(rushing_yards, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="co"># season total</span></span>
<span id="cb4-98"><a href="#cb4-98"></a>    <span class="at">carries =</span> <span class="fu">sum</span>(carries, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="co"># season total</span></span>
<span id="cb4-99"><a href="#cb4-99"></a>    <span class="at">rushing_epa =</span> <span class="fu">mean</span>(rushing_epa, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb4-100"><a href="#cb4-100"></a>    <span class="at">receiving_yards =</span> <span class="fu">mean</span>(receiving_yards, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb4-101"><a href="#cb4-101"></a>    <span class="at">receiving_epa =</span> <span class="fu">mean</span>(receiving_epa, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb4-102"><a href="#cb4-102"></a>    <span class="at">fantasyPoints =</span> <span class="fu">sum</span>(fantasyPoints, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="co"># season total</span></span>
<span id="cb4-103"><a href="#cb4-103"></a>    <span class="at">contractYear =</span> <span class="fu">mean</span>(contractYear, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb4-104"><a href="#cb4-104"></a>    <span class="at">games =</span> <span class="fu">n</span>(),</span>
<span id="cb4-105"><a href="#cb4-105"></a>    <span class="at">.groups =</span> <span class="st">"drop_last"</span></span>
<span id="cb4-106"><a href="#cb4-106"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb4-107"><a href="#cb4-107"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb4-108"><a href="#cb4-108"></a>    <span class="at">player_id =</span> <span class="fu">as.factor</span>(player_id),</span>
<span id="cb4-109"><a href="#cb4-109"></a>    <span class="at">ypc =</span> rushing_yards <span class="sc">/</span> carries,</span>
<span id="cb4-110"><a href="#cb4-110"></a>    <span class="at">contractYear =</span> <span class="fu">factor</span>(</span>
<span id="cb4-111"><a href="#cb4-111"></a>      contractYear,</span>
<span id="cb4-112"><a href="#cb4-112"></a>      <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb4-113"><a href="#cb4-113"></a>      <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"no"</span>, <span class="st">"yes"</span>)</span>
<span id="cb4-114"><a href="#cb4-114"></a>    ))</span>
<span id="cb4-115"><a href="#cb4-115"></a></span>
<span id="cb4-116"><a href="#cb4-116"></a>player_statsContracts_seasonal[<span class="fu">sapply</span>(player_statsContracts_seasonal, is.infinite)] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb4-117"><a href="#cb4-117"></a></span>
<span id="cb4-118"><a href="#cb4-118"></a>player_statsContracts_seasonal<span class="sc">$</span>ageCentered20 <span class="ot">&lt;-</span> player_statsContracts_seasonal<span class="sc">$</span>age <span class="sc">-</span> <span class="dv">20</span></span>
<span id="cb4-119"><a href="#cb4-119"></a>player_statsContracts_seasonal<span class="sc">$</span>ageCentered20Quadratic <span class="ot">&lt;-</span> player_statsContracts_seasonal<span class="sc">$</span>ageCentered20 <span class="sc">^</span> <span class="dv">2</span></span>
<span id="cb4-120"><a href="#cb4-120"></a></span>
<span id="cb4-121"><a href="#cb4-121"></a><span class="co"># Merge with seasonal fantasy points data</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<section id="sec-contractYearQB" class="level3" data-number="18.2.1"><h3 data-number="18.2.1" class="anchored" data-anchor-id="sec-contractYearQB">
<span class="header-section-number">18.2.1</span> QB</h3>
<p>First, we prepare the data by merging and performing additional processing:</p>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co"># Merge with QBR data</span></span>
<span id="cb5-2"><a href="#cb5-2"></a>nfl_espnQBR_weekly<span class="sc">$</span>merge_name <span class="ot">&lt;-</span> <span class="fu">paste</span>(nfl_espnQBR_weekly<span class="sc">$</span>name_first, nfl_espnQBR_weekly<span class="sc">$</span>name_last, <span class="at">sep =</span> <span class="st">" "</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-3"><a href="#cb5-3"></a>  nflreadr<span class="sc">::</span><span class="fu">clean_player_names</span>(., <span class="at">lowercase =</span> <span class="cn">TRUE</span>)</span>
<span id="cb5-4"><a href="#cb5-4"></a></span>
<span id="cb5-5"><a href="#cb5-5"></a>nfl_contractYearQBR_weekly <span class="ot">&lt;-</span> nfl_playerContractYears <span class="sc">%&gt;%</span> </span>
<span id="cb5-6"><a href="#cb5-6"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(position <span class="sc">==</span> <span class="st">"QB"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-7"><a href="#cb5-7"></a>  dplyr<span class="sc">::</span><span class="fu">full_join</span>(</span>
<span id="cb5-8"><a href="#cb5-8"></a>    .,</span>
<span id="cb5-9"><a href="#cb5-9"></a>    nfl_espnQBR_weekly,</span>
<span id="cb5-10"><a href="#cb5-10"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"merge_name"</span>,<span class="st">"team"</span>,<span class="st">"season"</span>)</span>
<span id="cb5-11"><a href="#cb5-11"></a>  )</span>
<span id="cb5-12"><a href="#cb5-12"></a></span>
<span id="cb5-13"><a href="#cb5-13"></a>nfl_contractYearQBR_weekly<span class="sc">$</span>contractYear[<span class="fu">which</span>(<span class="fu">is.na</span>(nfl_contractYearQBR_weekly<span class="sc">$</span>contractYear))] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb5-14"><a href="#cb5-14"></a><span class="co">#nfl_contractYearQBR_weekly$contractYear &lt;- factor(</span></span>
<span id="cb5-15"><a href="#cb5-15"></a><span class="co">#  nfl_contractYearQBR_weekly$contractYear,</span></span>
<span id="cb5-16"><a href="#cb5-16"></a><span class="co">#  levels = c(0, 1),</span></span>
<span id="cb5-17"><a href="#cb5-17"></a><span class="co">#  labels = c("no", "yes"))</span></span>
<span id="cb5-18"><a href="#cb5-18"></a></span>
<span id="cb5-19"><a href="#cb5-19"></a>nfl_contractYearQBR_weekly <span class="ot">&lt;-</span> nfl_contractYearQBR_weekly <span class="sc">%&gt;%</span> </span>
<span id="cb5-20"><a href="#cb5-20"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(merge_name, season, season_type, game_week)</span>
<span id="cb5-21"><a href="#cb5-21"></a></span>
<span id="cb5-22"><a href="#cb5-22"></a>nfl_contractYearQBRsubset_weekly <span class="ot">&lt;-</span> nfl_contractYearQBR_weekly <span class="sc">%&gt;%</span> </span>
<span id="cb5-23"><a href="#cb5-23"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(season_type <span class="sc">==</span> <span class="st">"Regular"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-24"><a href="#cb5-24"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(merge_name, season, season_type, game_week) <span class="sc">%&gt;%</span> </span>
<span id="cb5-25"><a href="#cb5-25"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-26"><a href="#cb5-26"></a>    <span class="at">player =</span> <span class="fu">coalesce</span>(player, name_display),</span>
<span id="cb5-27"><a href="#cb5-27"></a>    <span class="at">position =</span> <span class="st">"QB"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-28"><a href="#cb5-28"></a>  <span class="fu">group_by</span>(merge_name, player_id) <span class="sc">%&gt;%</span> </span>
<span id="cb5-29"><a href="#cb5-29"></a>  <span class="fu">fill</span>(player, <span class="at">.direction =</span> <span class="st">"downup"</span>)</span>
<span id="cb5-30"><a href="#cb5-30"></a></span>
<span id="cb5-31"><a href="#cb5-31"></a><span class="co"># Merge with age and experience</span></span>
<span id="cb5-32"><a href="#cb5-32"></a>nfl_contractYearQBRsubset_weekly <span class="ot">&lt;-</span> player_statsContractsSubset_offense_weekly <span class="sc">%&gt;%</span> </span>
<span id="cb5-33"><a href="#cb5-33"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(position <span class="sc">==</span> <span class="st">"QB"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb5-34"><a href="#cb5-34"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(merge_name, season, week, age, years_of_experience, fantasyPoints) <span class="sc">%&gt;%</span> </span>
<span id="cb5-35"><a href="#cb5-35"></a>  <span class="fu">full_join</span>(</span>
<span id="cb5-36"><a href="#cb5-36"></a>    nfl_contractYearQBRsubset_weekly,</span>
<span id="cb5-37"><a href="#cb5-37"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"merge_name"</span>,<span class="st">"season"</span>, <span class="fu">c</span>(<span class="st">"week"</span> <span class="ot">=</span> <span class="st">"game_week"</span>))</span>
<span id="cb5-38"><a href="#cb5-38"></a>  ) <span class="sc">%&gt;%</span> <span class="fu">select</span>(player_id, season, week, player, <span class="fu">everything</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb5-39"><a href="#cb5-39"></a>  <span class="fu">arrange</span>(player_id, season, week)</span>
<span id="cb5-40"><a href="#cb5-40"></a></span>
<span id="cb5-41"><a href="#cb5-41"></a><span class="co">#hist(nfl_contractYearQBRsubset_weekly$qb_plays) # players have at least 20 dropbacks per game</span></span>
<span id="cb5-42"><a href="#cb5-42"></a></span>
<span id="cb5-43"><a href="#cb5-43"></a><span class="co"># Calculate Per Game Totals</span></span>
<span id="cb5-44"><a href="#cb5-44"></a>nfl_contractYearQBR_seasonal <span class="ot">&lt;-</span> nfl_contractYearQBRsubset_weekly <span class="sc">%&gt;%</span> </span>
<span id="cb5-45"><a href="#cb5-45"></a>  dplyr<span class="sc">::</span><span class="fu">group_by</span>(merge_name, season) <span class="sc">%&gt;%</span> </span>
<span id="cb5-46"><a href="#cb5-46"></a>  dplyr<span class="sc">::</span><span class="fu">summarise</span>(</span>
<span id="cb5-47"><a href="#cb5-47"></a>    <span class="at">age =</span> <span class="fu">min</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb5-48"><a href="#cb5-48"></a>    <span class="at">years_of_experience =</span> <span class="fu">min</span>(years_of_experience, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb5-49"><a href="#cb5-49"></a>    <span class="at">qbr =</span> <span class="fu">mean</span>(qbr_total, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb5-50"><a href="#cb5-50"></a>    <span class="at">pts_added =</span> <span class="fu">mean</span>(pts_added, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb5-51"><a href="#cb5-51"></a>    <span class="at">epa_pass =</span> <span class="fu">mean</span>(pass, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb5-52"><a href="#cb5-52"></a>    <span class="at">qb_plays =</span> <span class="fu">sum</span>(qb_plays, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="co"># season total</span></span>
<span id="cb5-53"><a href="#cb5-53"></a>    <span class="at">fantasyPoints =</span> <span class="fu">sum</span>(fantasyPoints, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="co"># season total</span></span>
<span id="cb5-54"><a href="#cb5-54"></a>    <span class="at">contractYear =</span> <span class="fu">mean</span>(contractYear, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb5-55"><a href="#cb5-55"></a>    <span class="at">games =</span> <span class="fu">n</span>(),</span>
<span id="cb5-56"><a href="#cb5-56"></a>    <span class="at">.groups =</span> <span class="st">"drop_last"</span></span>
<span id="cb5-57"><a href="#cb5-57"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb5-58"><a href="#cb5-58"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb5-59"><a href="#cb5-59"></a>    <span class="at">contractYear =</span> <span class="fu">factor</span>(</span>
<span id="cb5-60"><a href="#cb5-60"></a>      contractYear,</span>
<span id="cb5-61"><a href="#cb5-61"></a>      <span class="at">levels =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>),</span>
<span id="cb5-62"><a href="#cb5-62"></a>      <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"no"</span>, <span class="st">"yes"</span>)</span>
<span id="cb5-63"><a href="#cb5-63"></a>    ))</span>
<span id="cb5-64"><a href="#cb5-64"></a></span>
<span id="cb5-65"><a href="#cb5-65"></a>nfl_contractYearQBR_seasonal[<span class="fu">sapply</span>(nfl_contractYearQBR_seasonal, is.infinite)] <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb5-66"><a href="#cb5-66"></a></span>
<span id="cb5-67"><a href="#cb5-67"></a>nfl_contractYearQBR_seasonal<span class="sc">$</span>ageCentered20 <span class="ot">&lt;-</span> nfl_contractYearQBR_seasonal<span class="sc">$</span>age <span class="sc">-</span> <span class="dv">20</span></span>
<span id="cb5-68"><a href="#cb5-68"></a>nfl_contractYearQBR_seasonal<span class="sc">$</span>ageCentered20Quadratic <span class="ot">&lt;-</span> nfl_contractYearQBR_seasonal<span class="sc">$</span>ageCentered20 <span class="sc">^</span> <span class="dv">2</span></span>
<span id="cb5-69"><a href="#cb5-69"></a></span>
<span id="cb5-70"><a href="#cb5-70"></a>nfl_contractYearQBR_seasonal <span class="ot">&lt;-</span> nfl_contractYearQBR_seasonal <span class="sc">%&gt;%</span> </span>
<span id="cb5-71"><a href="#cb5-71"></a>  <span class="fu">group_by</span>(merge_name) <span class="sc">%&gt;%</span></span>
<span id="cb5-72"><a href="#cb5-72"></a>  <span class="fu">mutate</span>(<span class="at">player_id =</span> <span class="fu">as.factor</span>(<span class="fu">as.character</span>(<span class="fu">cur_group_id</span>())))</span>
<span id="cb5-73"><a href="#cb5-73"></a></span>
<span id="cb5-74"><a href="#cb5-74"></a>nfl_contractYearQBRsubset_seasonal <span class="ot">&lt;-</span> nfl_contractYearQBR_seasonal <span class="sc">%&gt;%</span> </span>
<span id="cb5-75"><a href="#cb5-75"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb5-76"><a href="#cb5-76"></a>    games <span class="sc">&gt;=</span> <span class="dv">5</span>, <span class="co"># keep only player-season combinations in which QBs played at least 5 games</span></span>
<span id="cb5-77"><a href="#cb5-77"></a>    season <span class="sc">&gt;=</span> <span class="dv">2011</span>) <span class="co"># keep only seasons since 2011 (when most contract data are available)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<p>Then, we analyze the data.</p>
<section id="sec-contractYearQB-QBR" class="level4" data-number="18.2.1.1"><h4 data-number="18.2.1.1" class="anchored" data-anchor-id="sec-contractYearQB-QBR">
<span class="header-section-number">18.2.1.1</span> Quarterback Rating</h4>
<p>Below is a mixed model that examines whether a player has a higher QBR per game when they are in a contract year compared to when they are not in a contract year. The first model includes just contract year as a predictor. The second model includes additional covariates, including player age and experience. In terms of Quarterback Rating (QBR), findings from the models indicate that Quarterbacks did not perform significantly better in their contract year.</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>mixedModel_qbr <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb6-2"><a href="#cb6-2"></a>  qbr <span class="sc">~</span> contractYear <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> player_id),</span>
<span id="cb6-3"><a href="#cb6-3"></a>  <span class="at">data =</span> nfl_contractYearQBR_seasonal,</span>
<span id="cb6-4"><a href="#cb6-4"></a>  <span class="at">control =</span> <span class="fu">lmerControl</span>(<span class="at">optimizer =</span> <span class="st">"bobyqa"</span>)</span>
<span id="cb6-5"><a href="#cb6-5"></a>)</span>
<span id="cb6-6"><a href="#cb6-6"></a></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="fu">summary</span>(mixedModel_qbr)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: qbr ~ contractYear + (1 | player_id)
   Data: nfl_contractYearQBR_seasonal
Control: lmerControl(optimizer = "bobyqa")

REML criterion at convergence: 9438.2

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-3.2357 -0.5458  0.0707  0.5740  3.2417 

Random effects:
 Groups    Name        Variance Std.Dev.
 player_id (Intercept) 109.4    10.46   
 Residual              199.0    14.11   
Number of obs: 1127, groups:  player_id, 262

Fixed effects:
                 Estimate Std. Error        df t value Pr(&gt;|t|)    
(Intercept)       44.4546     0.8505  239.3701  52.270   &lt;2e-16 ***
contractYearyes   -0.2558     1.1552 1010.5146  -0.221    0.825    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr)
contrctYrys -0.244</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>performance<span class="sc">::</span><span class="fu">r2</span>(mixedModel_qbr)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># R2 for Mixed Models

  Conditional R2: 0.355
     Marginal R2: 0.000</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>emmeans<span class="sc">::</span><span class="fu">emmeans</span>(mixedModel_qbr, <span class="st">"contractYear"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> contractYear emmean    SE  df lower.CL upper.CL
 no             44.5 0.851 273     42.8     46.1
 yes            44.2 1.260 771     41.7     46.7

Degrees-of-freedom method: kenward-roger 
Confidence level used: 0.95 </code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>mixedModelAge_qbr <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb12-2"><a href="#cb12-2"></a>  qbr <span class="sc">~</span> contractYear <span class="sc">+</span> ageCentered20 <span class="sc">+</span> ageCentered20Quadratic <span class="sc">+</span> years_of_experience <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">+</span> ageCentered20 <span class="sc">|</span> player_id),</span>
<span id="cb12-3"><a href="#cb12-3"></a>  <span class="at">data =</span> nfl_contractYearQBR_seasonal,</span>
<span id="cb12-4"><a href="#cb12-4"></a>  <span class="at">control =</span> <span class="fu">lmerControl</span>(<span class="at">optimizer =</span> <span class="st">"bobyqa"</span>)</span>
<span id="cb12-5"><a href="#cb12-5"></a>)</span>
<span id="cb12-6"><a href="#cb12-6"></a></span>
<span id="cb12-7"><a href="#cb12-7"></a><span class="fu">summary</span>(mixedModelAge_qbr)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: qbr ~ contractYear + ageCentered20 + ageCentered20Quadratic +  
    years_of_experience + (1 + ageCentered20 | player_id)
   Data: nfl_contractYearQBR_seasonal
Control: lmerControl(optimizer = "bobyqa")

REML criterion at convergence: 9377.5

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-3.3590 -0.5087  0.0868  0.5523  3.2740 

Random effects:
 Groups    Name          Variance Std.Dev. Corr 
 player_id (Intercept)   138.3788 11.7635       
           ageCentered20   0.5743  0.7578  -0.49
 Residual                190.8198 13.8138       
Number of obs: 1121, groups:  player_id, 259

Fixed effects:
                         Estimate Std. Error         df t value Pr(&gt;|t|)    
(Intercept)              39.96803    2.24564  197.39593  17.798  &lt; 2e-16 ***
contractYearyes          -0.15679    1.19582 1002.68967  -0.131 0.895711    
ageCentered20             0.50198    0.64265  274.84098   0.781 0.435414    
ageCentered20Quadratic   -0.08134    0.02316  125.87449  -3.512 0.000619 ***
years_of_experience       1.11470    0.54597  298.60485   2.042 0.042062 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) cntrcY agCn20 agC20Q
contrctYrys  0.059                     
ageCentrd20 -0.742 -0.062              
agCntrd20Qd  0.757  0.056 -0.616       
yrs_f_xprnc  0.122 -0.040 -0.672 -0.121</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>performance<span class="sc">::</span><span class="fu">r2</span>(mixedModelAge_qbr)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># R2 for Mixed Models

  Conditional R2: 0.393
     Marginal R2: 0.018</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>emmeans<span class="sc">::</span><span class="fu">emmeans</span>(mixedModelAge_qbr, <span class="st">"contractYear"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> contractYear emmean   SE  df lower.CL upper.CL
 no             44.4 0.89 248     42.7     46.2
 yes            44.3 1.28 718     41.8     46.8

Degrees-of-freedom method: kenward-roger 
Confidence level used: 0.95 </code></pre>
</div>
</div>
</section><section id="sec-contractYearQB-PointsAdded" class="level4" data-number="18.2.1.2"><h4 data-number="18.2.1.2" class="anchored" data-anchor-id="sec-contractYearQB-PointsAdded">
<span class="header-section-number">18.2.1.2</span> Points Added</h4>
<p>In terms of points added, Quarterbacks did not perform better in their contract year.</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>mixedModel_ptsAdded <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb18-2"><a href="#cb18-2"></a>  pts_added <span class="sc">~</span> contractYear <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> player_id),</span>
<span id="cb18-3"><a href="#cb18-3"></a>  <span class="at">data =</span> nfl_contractYearQBR_seasonal,</span>
<span id="cb18-4"><a href="#cb18-4"></a>  <span class="at">control =</span> <span class="fu">lmerControl</span>(<span class="at">optimizer =</span> <span class="st">"bobyqa"</span>)</span>
<span id="cb18-5"><a href="#cb18-5"></a>)</span>
<span id="cb18-6"><a href="#cb18-6"></a></span>
<span id="cb18-7"><a href="#cb18-7"></a><span class="fu">summary</span>(mixedModel_ptsAdded)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: pts_added ~ contractYear + (1 | player_id)
   Data: nfl_contractYearQBR_seasonal
Control: lmerControl(optimizer = "bobyqa")

REML criterion at convergence: 5131.2

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-4.7207 -0.4956  0.0890  0.5453  4.2919 

Random effects:
 Groups    Name        Variance Std.Dev.
 player_id (Intercept) 2.542    1.594   
 Residual              4.277    2.068   
Number of obs: 1127, groups:  player_id, 262

Fixed effects:
                Estimate Std. Error       df t value Pr(&gt;|t|)    
(Intercept)      -0.8204     0.1278 225.7574  -6.419 7.96e-10 ***
contractYearyes  -0.1319     0.1698 995.7377  -0.777    0.437    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr)
contrctYrys -0.238</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>performance<span class="sc">::</span><span class="fu">r2</span>(mixedModel_ptsAdded)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># R2 for Mixed Models

  Conditional R2: 0.373
     Marginal R2: 0.000</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>emmeans<span class="sc">::</span><span class="fu">emmeans</span>(mixedModel_ptsAdded, <span class="st">"contractYear"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> contractYear emmean    SE  df lower.CL upper.CL
 no           -0.820 0.128 273    -1.07   -0.569
 yes          -0.952 0.187 760    -1.32   -0.586

Degrees-of-freedom method: kenward-roger 
Confidence level used: 0.95 </code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>mixedModelAge_ptsAdded <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb24-2"><a href="#cb24-2"></a>  pts_added <span class="sc">~</span> contractYear <span class="sc">+</span> ageCentered20 <span class="sc">+</span> ageCentered20Quadratic <span class="sc">+</span> years_of_experience <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">+</span> ageCentered20 <span class="sc">|</span> player_id),</span>
<span id="cb24-3"><a href="#cb24-3"></a>  <span class="at">data =</span> nfl_contractYearQBR_seasonal,</span>
<span id="cb24-4"><a href="#cb24-4"></a>  <span class="at">control =</span> <span class="fu">lmerControl</span>(<span class="at">optimizer =</span> <span class="st">"bobyqa"</span>)</span>
<span id="cb24-5"><a href="#cb24-5"></a>)</span>
<span id="cb24-6"><a href="#cb24-6"></a></span>
<span id="cb24-7"><a href="#cb24-7"></a><span class="fu">summary</span>(mixedModelAge_ptsAdded)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: pts_added ~ contractYear + ageCentered20 + ageCentered20Quadratic +  
    years_of_experience + (1 + ageCentered20 | player_id)
   Data: nfl_contractYearQBR_seasonal
Control: lmerControl(optimizer = "bobyqa")

REML criterion at convergence: 5105.9

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-4.8843 -0.5004  0.0933  0.5278  4.2890 

Random effects:
 Groups    Name          Variance Std.Dev. Corr 
 player_id (Intercept)   3.76625  1.9407        
           ageCentered20 0.01592  0.1262   -0.62
 Residual                4.10248  2.0255        
Number of obs: 1121, groups:  player_id, 259

Fixed effects:
                         Estimate Std. Error         df t value Pr(&gt;|t|)    
(Intercept)             -1.516112   0.341012 190.293484  -4.446 1.49e-05 ***
contractYearyes         -0.135518   0.175633 986.952187  -0.772 0.440539    
ageCentered20            0.058746   0.096431 276.886585   0.609 0.542891    
ageCentered20Quadratic  -0.011709   0.003465 130.048786  -3.379 0.000959 ***
years_of_experience      0.189310   0.080823 288.058048   2.342 0.019848 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) cntrcY agCn20 agC20Q
contrctYrys  0.058                     
ageCentrd20 -0.746 -0.063              
agCntrd20Qd  0.752  0.060 -0.626       
yrs_f_xprnc  0.133 -0.041 -0.674 -0.106</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>performance<span class="sc">::</span><span class="fu">r2</span>(mixedModelAge_ptsAdded)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># R2 for Mixed Models

  Conditional R2: 0.403
     Marginal R2: 0.017</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>emmeans<span class="sc">::</span><span class="fu">emmeans</span>(mixedModelAge_ptsAdded, <span class="st">"contractYear"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> contractYear emmean    SE  df lower.CL upper.CL
 no           -0.786 0.131 251    -1.04   -0.527
 yes          -0.921 0.188 717    -1.29   -0.551

Degrees-of-freedom method: kenward-roger 
Confidence level used: 0.95 </code></pre>
</div>
</div>
</section><section id="sec-contractYearQB-ExpectedPointsAdded" class="level4" data-number="18.2.1.3"><h4 data-number="18.2.1.3" class="anchored" data-anchor-id="sec-contractYearQB-ExpectedPointsAdded">
<span class="header-section-number">18.2.1.3</span> Expected Points Added</h4>
<p>In terms of expected points added (EPA) from passing plays, when not controlling for player age and experience, Quarterbacks performed better in their contract year. However, when controlling for player age and experience, Quarterbacks did not perform significantly better in their contract year.</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a>mixedModel_epaPass <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb30-2"><a href="#cb30-2"></a>  epa_pass <span class="sc">~</span> contractYear <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> player_id),</span>
<span id="cb30-3"><a href="#cb30-3"></a>  <span class="at">data =</span> nfl_contractYearQBR_seasonal,</span>
<span id="cb30-4"><a href="#cb30-4"></a>  <span class="at">control =</span> <span class="fu">lmerControl</span>(<span class="at">optimizer =</span> <span class="st">"bobyqa"</span>)</span>
<span id="cb30-5"><a href="#cb30-5"></a>)</span>
<span id="cb30-6"><a href="#cb30-6"></a></span>
<span id="cb30-7"><a href="#cb30-7"></a><span class="fu">summary</span>(mixedModel_epaPass)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: epa_pass ~ contractYear + (1 | player_id)
   Data: nfl_contractYearQBR_seasonal
Control: lmerControl(optimizer = "bobyqa")

REML criterion at convergence: 4785.4

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-3.0580 -0.5112  0.0380  0.5455  4.4075 

Random effects:
 Groups    Name        Variance Std.Dev.
 player_id (Intercept) 2.514    1.586   
 Residual              2.980    1.726   
Number of obs: 1127, groups:  player_id, 262

Fixed effects:
                Estimate Std. Error       df t value Pr(&gt;|t|)    
(Intercept)       1.1296     0.1199 243.1854   9.418  &lt; 2e-16 ***
contractYearyes   0.3820     0.1431 977.2984   2.670  0.00772 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr)
contrctYrys -0.211</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>performance<span class="sc">::</span><span class="fu">r2</span>(mixedModel_epaPass)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># R2 for Mixed Models

  Conditional R2: 0.460
     Marginal R2: 0.004</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a>emmeans<span class="sc">::</span><span class="fu">emmeans</span>(mixedModel_epaPass, <span class="st">"contractYear"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> contractYear emmean    SE  df lower.CL upper.CL
 no             1.13 0.120 272    0.893     1.37
 yes            1.51 0.166 703    1.185     1.84

Degrees-of-freedom method: kenward-roger 
Confidence level used: 0.95 </code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a>mixedModelAge_epaPass <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb36-2"><a href="#cb36-2"></a>  epa_pass <span class="sc">~</span> contractYear <span class="sc">+</span> ageCentered20 <span class="sc">+</span> ageCentered20Quadratic <span class="sc">+</span> years_of_experience <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> player_id), <span class="co"># removed random slopes to address convergence issue</span></span>
<span id="cb36-3"><a href="#cb36-3"></a>  <span class="at">data =</span> nfl_contractYearQBR_seasonal,</span>
<span id="cb36-4"><a href="#cb36-4"></a>  <span class="at">control =</span> <span class="fu">lmerControl</span>(<span class="at">optimizer =</span> <span class="st">"bobyqa"</span>)</span>
<span id="cb36-5"><a href="#cb36-5"></a>)</span>
<span id="cb36-6"><a href="#cb36-6"></a></span>
<span id="cb36-7"><a href="#cb36-7"></a><span class="fu">summary</span>(mixedModelAge_epaPass)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: epa_pass ~ contractYear + ageCentered20 + ageCentered20Quadratic +  
    years_of_experience + (1 | player_id)
   Data: nfl_contractYearQBR_seasonal
Control: lmerControl(optimizer = "bobyqa")

REML criterion at convergence: 4751.3

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-3.1335 -0.5073  0.0557  0.5457  4.3347 

Random effects:
 Groups    Name        Variance Std.Dev.
 player_id (Intercept) 2.373    1.541   
 Residual              2.936    1.713   
Number of obs: 1121, groups:  player_id, 259

Fixed effects:
                         Estimate Std. Error         df t value Pr(&gt;|t|)    
(Intercept)             4.747e-01  2.713e-01  9.855e+02   1.750 0.080400 .  
contractYearyes         2.031e-01  1.482e-01  1.001e+03   1.370 0.170964    
ageCentered20          -4.304e-02  7.955e-02  6.794e+02  -0.541 0.588666    
ageCentered20Quadratic -5.726e-03  2.592e-03  1.056e+03  -2.209 0.027363 *  
years_of_experience     2.426e-01  7.140e-02  4.137e+02   3.398 0.000744 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) cntrcY agCn20 agC20Q
contrctYrys  0.068                     
ageCentrd20 -0.718 -0.060              
agCntrd20Qd  0.729  0.061 -0.547       
yrs_f_xprnc  0.168 -0.045 -0.721 -0.148</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a>performance<span class="sc">::</span><span class="fu">r2</span>(mixedModelAge_epaPass)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># R2 for Mixed Models

  Conditional R2: 0.466
     Marginal R2: 0.034</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a>emmeans<span class="sc">::</span><span class="fu">emmeans</span>(mixedModelAge_epaPass, <span class="st">"contractYear"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> contractYear emmean    SE  df lower.CL upper.CL
 no             1.27 0.121 272     1.03     1.51
 yes            1.47 0.166 700     1.15     1.80

Degrees-of-freedom method: kenward-roger 
Confidence level used: 0.95 </code></pre>
</div>
</div>
</section><section id="sec-contractYearQB-FantasyPoints" class="level4" data-number="18.2.1.4"><h4 data-number="18.2.1.4" class="anchored" data-anchor-id="sec-contractYearQB-FantasyPoints">
<span class="header-section-number">18.2.1.4</span> Fantasy Points</h4>
<p>In terms of fantasy points, Quarterbacks performed significantly worse in their contract year, even controlling for player age and experience.</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a>mixedModel_fantasyPtsPass <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb42-2"><a href="#cb42-2"></a>  fantasyPoints <span class="sc">~</span> contractYear <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> player_id),</span>
<span id="cb42-3"><a href="#cb42-3"></a>  <span class="at">data =</span> nfl_contractYearQBR_seasonal,</span>
<span id="cb42-4"><a href="#cb42-4"></a>  <span class="at">control =</span> <span class="fu">lmerControl</span>(<span class="at">optimizer =</span> <span class="st">"bobyqa"</span>)</span>
<span id="cb42-5"><a href="#cb42-5"></a>)</span>
<span id="cb42-6"><a href="#cb42-6"></a></span>
<span id="cb42-7"><a href="#cb42-7"></a><span class="fu">summary</span>(mixedModel_fantasyPtsPass)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: fantasyPoints ~ contractYear + (1 | player_id)
   Data: nfl_contractYearQBR_seasonal
Control: lmerControl(optimizer = "bobyqa")

REML criterion at convergence: 13299.5

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-3.7895 -0.5641 -0.0842  0.6337  2.7383 

Random effects:
 Groups    Name        Variance Std.Dev.
 player_id (Intercept) 6240     78.99   
 Residual              5485     74.06   
Number of obs: 1127, groups:  player_id, 262

Fixed effects:
                Estimate Std. Error      df t value Pr(&gt;|t|)    
(Intercept)      112.130      5.733 299.833  19.557  &lt; 2e-16 ***
contractYearyes  -29.924      6.184 990.455  -4.839 1.51e-06 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr)
contrctYrys -0.189</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>performance<span class="sc">::</span><span class="fu">r2</span>(mixedModel_fantasyPtsPass)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># R2 for Mixed Models

  Conditional R2: 0.538
     Marginal R2: 0.012</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a>emmeans<span class="sc">::</span><span class="fu">emmeans</span>(mixedModel_fantasyPtsPass, <span class="st">"contractYear"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> contractYear emmean   SE  df lower.CL upper.CL
 no            112.1 5.74 272    100.8    123.4
 yes            82.2 7.60 647     67.3     97.1

Degrees-of-freedom method: kenward-roger 
Confidence level used: 0.95 </code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>mixedModelAge_fantasyPtsPass <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb48-2"><a href="#cb48-2"></a>  fantasyPoints <span class="sc">~</span> contractYear <span class="sc">+</span> ageCentered20 <span class="sc">+</span> ageCentered20Quadratic <span class="sc">+</span> years_of_experience <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> player_id), <span class="co"># removed random slopes to address convergence issue</span></span>
<span id="cb48-3"><a href="#cb48-3"></a>  <span class="at">data =</span> nfl_contractYearQBR_seasonal,</span>
<span id="cb48-4"><a href="#cb48-4"></a>  <span class="at">control =</span> <span class="fu">lmerControl</span>(<span class="at">optimizer =</span> <span class="st">"bobyqa"</span>)</span>
<span id="cb48-5"><a href="#cb48-5"></a>)</span>
<span id="cb48-6"><a href="#cb48-6"></a></span>
<span id="cb48-7"><a href="#cb48-7"></a><span class="fu">summary</span>(mixedModelAge_fantasyPtsPass)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: 
fantasyPoints ~ contractYear + ageCentered20 + ageCentered20Quadratic +  
    years_of_experience + (1 | player_id)
   Data: nfl_contractYearQBR_seasonal
Control: lmerControl(optimizer = "bobyqa")

REML criterion at convergence: 13186.6

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-3.8469 -0.5734 -0.0786  0.6368  2.5779 

Random effects:
 Groups    Name        Variance Std.Dev.
 player_id (Intercept) 6015     77.55   
 Residual              5324     72.96   
Number of obs: 1121, groups:  player_id, 259

Fixed effects:
                        Estimate Std. Error        df t value Pr(&gt;|t|)    
(Intercept)             141.6572    12.0931  994.9825  11.714  &lt; 2e-16 ***
contractYearyes         -24.5306     6.3788 1003.5089  -3.846 0.000128 ***
ageCentered20           -15.2109     3.6158  767.1802  -4.207 2.90e-05 ***
ageCentered20Quadratic   -0.1379     0.1120 1045.5987  -1.230 0.218796    
years_of_experience      16.5905     3.3191  525.5976   4.998 7.88e-07 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) cntrcY agCn20 agC20Q
contrctYrys  0.069                     
ageCentrd20 -0.703 -0.057              
agCntrd20Qd  0.702  0.057 -0.514       
yrs_f_xprnc  0.200 -0.042 -0.751 -0.146</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a>performance<span class="sc">::</span><span class="fu">r2</span>(mixedModelAge_fantasyPtsPass)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># R2 for Mixed Models

  Conditional R2: 0.562
     Marginal R2: 0.066</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a>emmeans<span class="sc">::</span><span class="fu">emmeans</span>(mixedModelAge_fantasyPtsPass, <span class="st">"contractYear"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> contractYear emmean   SE  df lower.CL upper.CL
 no            114.0 5.80 274    102.6      125
 yes            89.5 7.58 638     74.6      104

Degrees-of-freedom method: kenward-roger 
Confidence level used: 0.95 </code></pre>
</div>
</div>
</section></section><section id="sec-contractYearRB" class="level3" data-number="18.2.2"><h3 data-number="18.2.2" class="anchored" data-anchor-id="sec-contractYearRB">
<span class="header-section-number">18.2.2</span> RB</h3>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>player_statsContractsRB_seasonal <span class="ot">&lt;-</span> player_statsContracts_seasonal <span class="sc">%&gt;%</span> </span>
<span id="cb54-2"><a href="#cb54-2"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb54-3"><a href="#cb54-3"></a>    position_group <span class="sc">==</span> <span class="st">"RB"</span>,</span>
<span id="cb54-4"><a href="#cb54-4"></a>    games <span class="sc">&gt;=</span> <span class="dv">5</span>, <span class="co"># keep only player-season combinations in which QBs played at least 5 games</span></span>
<span id="cb54-5"><a href="#cb54-5"></a>    season <span class="sc">&gt;=</span> <span class="dv">2011</span>) <span class="co"># keep only seasons since 2011 (when most contract data are available)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<section id="sec-contractYearRB-YPC" class="level4" data-number="18.2.2.1"><h4 data-number="18.2.2.1" class="anchored" data-anchor-id="sec-contractYearRB-YPC">
<span class="header-section-number">18.2.2.1</span> Yards Per Carry</h4>
<p>In terms of yards per carry (YPC), Running Backs did not perform significantly better in their contract year.</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a>mixedModel_ypc <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb55-2"><a href="#cb55-2"></a>  ypc <span class="sc">~</span> contractYear <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> player_id),</span>
<span id="cb55-3"><a href="#cb55-3"></a>  <span class="at">data =</span> player_statsContractsRB_seasonal,</span>
<span id="cb55-4"><a href="#cb55-4"></a>  <span class="at">control =</span> <span class="fu">lmerControl</span>(<span class="at">optimizer =</span> <span class="st">"bobyqa"</span>)</span>
<span id="cb55-5"><a href="#cb55-5"></a>)</span>
<span id="cb55-6"><a href="#cb55-6"></a></span>
<span id="cb55-7"><a href="#cb55-7"></a><span class="fu">summary</span>(mixedModel_ypc)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: ypc ~ contractYear + (1 | player_id)
   Data: player_statsContractsRB_seasonal
Control: lmerControl(optimizer = "bobyqa")

REML criterion at convergence: 6379.2

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-7.9730 -0.3966  0.0041  0.4011 14.7698 

Random effects:
 Groups    Name        Variance Std.Dev.
 player_id (Intercept) 0.5188   0.7203  
 Residual              1.8697   1.3674  
Number of obs: 1748, groups:  player_id, 532

Fixed effects:
                 Estimate Std. Error        df t value Pr(&gt;|t|)    
(Intercept)     3.906e+00  5.146e-02 5.066e+02   75.90   &lt;2e-16 ***
contractYearyes 9.797e-03  8.165e-02 1.678e+03    0.12    0.905    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr)
contrctYrys -0.370</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>performance<span class="sc">::</span><span class="fu">r2</span>(mixedModel_ypc)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># R2 for Mixed Models

  Conditional R2: 0.217
     Marginal R2: 0.000</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a>emmeans<span class="sc">::</span><span class="fu">emmeans</span>(mixedModel_ypc, <span class="st">"contractYear"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> contractYear emmean     SE   df lower.CL upper.CL
 no             3.91 0.0515  631     3.80     4.01
 yes            3.92 0.0788 1264     3.76     4.07

Degrees-of-freedom method: kenward-roger 
Confidence level used: 0.95 </code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a>mixedModelAge_ypc <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb61-2"><a href="#cb61-2"></a>  ypc <span class="sc">~</span> contractYear <span class="sc">+</span> ageCentered20 <span class="sc">+</span> ageCentered20Quadratic <span class="sc">+</span> years_of_experience <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">+</span> ageCentered20 <span class="sc">|</span> player_id),</span>
<span id="cb61-3"><a href="#cb61-3"></a>  <span class="at">data =</span> player_statsContractsRB_seasonal,</span>
<span id="cb61-4"><a href="#cb61-4"></a>  <span class="at">control =</span> <span class="fu">lmerControl</span>(<span class="at">optimizer =</span> <span class="st">"bobyqa"</span>)</span>
<span id="cb61-5"><a href="#cb61-5"></a>)</span>
<span id="cb61-6"><a href="#cb61-6"></a></span>
<span id="cb61-7"><a href="#cb61-7"></a><span class="fu">summary</span>(mixedModelAge_ypc)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: ypc ~ contractYear + ageCentered20 + ageCentered20Quadratic +  
    years_of_experience + (1 + ageCentered20 | player_id)
   Data: player_statsContractsRB_seasonal
Control: lmerControl(optimizer = "bobyqa")

REML criterion at convergence: 6366.7

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-7.7819 -0.3857 -0.0069  0.3862 14.2027 

Random effects:
 Groups    Name          Variance Std.Dev. Corr 
 player_id (Intercept)   0.37836  0.6151        
           ageCentered20 0.01157  0.1075   -0.31
 Residual                1.79523  1.3399        
Number of obs: 1748, groups:  player_id, 532

Fixed effects:
                         Estimate Std. Error         df t value Pr(&gt;|t|)    
(Intercept)             4.194e+00  1.696e-01  7.658e+02  24.727   &lt;2e-16 ***
contractYearyes         9.504e-02  8.862e-02  1.609e+03   1.072   0.2837    
ageCentered20          -7.278e-02  5.913e-02  8.178e+02  -1.231   0.2187    
ageCentered20Quadratic -4.509e-03  4.281e-03  4.368e+02  -1.053   0.2928    
years_of_experience     6.632e-02  3.962e-02  5.394e+02   1.674   0.0947 .  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) cntrcY agCn20 agC20Q
contrctYrys  0.158                     
ageCentrd20 -0.866 -0.153              
agCntrd20Qd  0.811  0.138 -0.797       
yrs_f_xprnc -0.053 -0.128 -0.320 -0.238</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a>performance<span class="sc">::</span><span class="fu">r2</span>(mixedModelAge_ypc)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># R2 for Mixed Models

  Conditional R2: 0.272
     Marginal R2: 0.021</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1"></a>emmeans<span class="sc">::</span><span class="fu">emmeans</span>(mixedModelAge_ypc, <span class="st">"contractYear"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> contractYear emmean     SE   df lower.CL upper.CL
 no             3.87 0.0549  551     3.76     3.97
 yes            3.96 0.0825 1248     3.80     4.12

Degrees-of-freedom method: kenward-roger 
Confidence level used: 0.95 </code></pre>
</div>
</div>
</section><section id="sec-contractYearRB-EPA" class="level4" data-number="18.2.2.2"><h4 data-number="18.2.2.2" class="anchored" data-anchor-id="sec-contractYearRB-EPA">
<span class="header-section-number">18.2.2.2</span> Expected Points Added</h4>
<p>In terms of expected points added (EPA) from rushing plays, Running Backs did not perform significantly better in their contract year.</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a>mixedModel_epaRush <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb67-2"><a href="#cb67-2"></a>  rushing_epa <span class="sc">~</span> contractYear <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> player_id),</span>
<span id="cb67-3"><a href="#cb67-3"></a>  <span class="at">data =</span> player_statsContractsRB_seasonal,</span>
<span id="cb67-4"><a href="#cb67-4"></a>  <span class="at">control =</span> <span class="fu">lmerControl</span>(<span class="at">optimizer =</span> <span class="st">"bobyqa"</span>)</span>
<span id="cb67-5"><a href="#cb67-5"></a>)</span>
<span id="cb67-6"><a href="#cb67-6"></a></span>
<span id="cb67-7"><a href="#cb67-7"></a><span class="fu">summary</span>(mixedModel_epaRush)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: rushing_epa ~ contractYear + (1 | player_id)
   Data: player_statsContractsRB_seasonal
Control: lmerControl(optimizer = "bobyqa")

REML criterion at convergence: 5070.9

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-4.5468 -0.5055  0.0777  0.5809  3.4198 

Random effects:
 Groups    Name        Variance Std.Dev.
 player_id (Intercept) 0.1022   0.3197  
 Residual              0.9735   0.9867  
Number of obs: 1748, groups:  player_id, 532

Fixed effects:
                  Estimate Std. Error         df t value Pr(&gt;|t|)    
(Intercept)       -0.64999    0.03175  649.74193 -20.472   &lt;2e-16 ***
contractYearyes    0.03814    0.05655 1745.99999   0.674      0.5    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr)
contrctYrys -0.438</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a>performance<span class="sc">::</span><span class="fu">r2</span>(mixedModel_epaRush)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># R2 for Mixed Models

  Conditional R2: 0.095
     Marginal R2: 0.000</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1"></a>emmeans<span class="sc">::</span><span class="fu">emmeans</span>(mixedModel_epaRush, <span class="st">"contractYear"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> contractYear emmean     SE   df lower.CL upper.CL
 no           -0.650 0.0318  651   -0.712   -0.588
 yes          -0.612 0.0514 1167   -0.713   -0.511

Degrees-of-freedom method: kenward-roger 
Confidence level used: 0.95 </code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a>mixedModelAge_epaRush <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb73-2"><a href="#cb73-2"></a>  rushing_epa <span class="sc">~</span> contractYear <span class="sc">+</span> ageCentered20 <span class="sc">+</span> ageCentered20Quadratic <span class="sc">+</span> years_of_experience <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">+</span> ageCentered20 <span class="sc">|</span> player_id),</span>
<span id="cb73-3"><a href="#cb73-3"></a>  <span class="at">data =</span> player_statsContractsRB_seasonal,</span>
<span id="cb73-4"><a href="#cb73-4"></a>  <span class="at">control =</span> <span class="fu">lmerControl</span>(<span class="at">optimizer =</span> <span class="st">"bobyqa"</span>)</span>
<span id="cb73-5"><a href="#cb73-5"></a>)</span>
<span id="cb73-6"><a href="#cb73-6"></a></span>
<span id="cb73-7"><a href="#cb73-7"></a><span class="fu">summary</span>(mixedModelAge_epaRush)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: rushing_epa ~ contractYear + ageCentered20 + ageCentered20Quadratic +  
    years_of_experience + (1 + ageCentered20 | player_id)
   Data: player_statsContractsRB_seasonal
Control: lmerControl(optimizer = "bobyqa")

REML criterion at convergence: 5084.9

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-4.5730 -0.4972  0.0720  0.5760  3.3878 

Random effects:
 Groups    Name          Variance Std.Dev. Corr 
 player_id (Intercept)   0.190478 0.43644       
           ageCentered20 0.002303 0.04799  -0.69
 Residual                0.956386 0.97795       
Number of obs: 1748, groups:  player_id, 532

Fixed effects:
                         Estimate Std. Error         df t value Pr(&gt;|t|)    
(Intercept)            -6.471e-01  1.183e-01  4.179e+02  -5.468 7.84e-08 ***
contractYearyes         7.658e-02  6.042e-02  1.545e+03   1.267   0.2052    
ageCentered20           3.829e-02  3.954e-02  4.009e+02   0.968   0.3335    
ageCentered20Quadratic -1.627e-03  2.788e-03  2.072e+02  -0.584   0.5600    
years_of_experience    -4.061e-02  2.405e-02  5.630e+02  -1.689   0.0918 .  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) cntrcY agCn20 agC20Q
contrctYrys  0.156                     
ageCentrd20 -0.880 -0.176              
agCntrd20Qd  0.829  0.169 -0.832       
yrs_f_xprnc -0.061 -0.125 -0.284 -0.226</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a>performance<span class="sc">::</span><span class="fu">r2</span>(mixedModelAge_epaRush)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># R2 for Mixed Models

  Conditional R2: 0.114
     Marginal R2: 0.005</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a>emmeans<span class="sc">::</span><span class="fu">emmeans</span>(mixedModelAge_epaRush, <span class="st">"contractYear"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> contractYear emmean     SE   df lower.CL upper.CL
 no           -0.663 0.0328  571   -0.728   -0.599
 yes          -0.587 0.0536 1186   -0.692   -0.482

Degrees-of-freedom method: kenward-roger 
Confidence level used: 0.95 </code></pre>
</div>
</div>
</section><section id="sec-contractYearRB-FantasyPoints" class="level4" data-number="18.2.2.3"><h4 data-number="18.2.2.3" class="anchored" data-anchor-id="sec-contractYearRB-FantasyPoints">
<span class="header-section-number">18.2.2.3</span> Fantasy Points</h4>
<p>In terms of fantasy points, Running Backs performed significantly worse in their contract year, even controlling for player age and experience.</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1"></a>mixedModel_fantasyPtsRush <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb79-2"><a href="#cb79-2"></a>  fantasyPoints <span class="sc">~</span> contractYear <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> player_id),</span>
<span id="cb79-3"><a href="#cb79-3"></a>  <span class="at">data =</span> player_statsContractsRB_seasonal,</span>
<span id="cb79-4"><a href="#cb79-4"></a>  <span class="at">control =</span> <span class="fu">lmerControl</span>(<span class="at">optimizer =</span> <span class="st">"bobyqa"</span>)</span>
<span id="cb79-5"><a href="#cb79-5"></a>)</span>
<span id="cb79-6"><a href="#cb79-6"></a></span>
<span id="cb79-7"><a href="#cb79-7"></a><span class="fu">summary</span>(mixedModel_fantasyPtsRush)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: fantasyPoints ~ contractYear + (1 | player_id)
   Data: player_statsContractsRB_seasonal
Control: lmerControl(optimizer = "bobyqa")

REML criterion at convergence: 20834.3

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-3.1357 -0.5059 -0.1723  0.4153  3.8941 

Random effects:
 Groups    Name        Variance Std.Dev.
 player_id (Intercept) 3557     59.64   
 Residual              3044     55.18   
Number of obs: 1846, groups:  player_id, 549

Fixed effects:
                Estimate Std. Error       df t value Pr(&gt;|t|)    
(Intercept)       81.736      3.056  654.624  26.747  &lt; 2e-16 ***
contractYearyes  -14.037      3.476 1592.046  -4.038 5.64e-05 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr)
contrctYrys -0.234</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1"></a>performance<span class="sc">::</span><span class="fu">r2</span>(mixedModel_fantasyPtsRush)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># R2 for Mixed Models

  Conditional R2: 0.541
     Marginal R2: 0.006</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1"></a>emmeans<span class="sc">::</span><span class="fu">emmeans</span>(mixedModel_fantasyPtsRush, <span class="st">"contractYear"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> contractYear emmean   SE   df lower.CL upper.CL
 no             81.7 3.06  597     75.7     87.7
 yes            67.7 4.06 1252     59.7     75.7

Degrees-of-freedom method: kenward-roger 
Confidence level used: 0.95 </code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1"></a>mixedModelAge_fantasyPtsRush <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb85-2"><a href="#cb85-2"></a>  fantasyPoints <span class="sc">~</span> contractYear <span class="sc">+</span> ageCentered20 <span class="sc">+</span> ageCentered20Quadratic <span class="sc">+</span> years_of_experience <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">+</span> ageCentered20 <span class="sc">|</span> player_id),</span>
<span id="cb85-3"><a href="#cb85-3"></a>  <span class="at">data =</span> player_statsContractsRB_seasonal,</span>
<span id="cb85-4"><a href="#cb85-4"></a>  <span class="at">control =</span> <span class="fu">lmerControl</span>(<span class="at">optimizer =</span> <span class="st">"bobyqa"</span>)</span>
<span id="cb85-5"><a href="#cb85-5"></a>)</span>
<span id="cb85-6"><a href="#cb85-6"></a></span>
<span id="cb85-7"><a href="#cb85-7"></a><span class="fu">summary</span>(mixedModelAge_fantasyPtsRush)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: 
fantasyPoints ~ contractYear + ageCentered20 + ageCentered20Quadratic +  
    years_of_experience + (1 + ageCentered20 | player_id)
   Data: player_statsContractsRB_seasonal
Control: lmerControl(optimizer = "bobyqa")

REML criterion at convergence: 20676.1

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-3.4826 -0.4970 -0.1465  0.4146  3.6037 

Random effects:
 Groups    Name          Variance Std.Dev. Corr 
 player_id (Intercept)   6477.91  80.49         
           ageCentered20   58.84   7.67    -0.77
 Residual                2644.97  51.43         
Number of obs: 1846, groups:  player_id, 549

Fixed effects:
                        Estimate Std. Error        df t value Pr(&gt;|t|)    
(Intercept)              72.7332     8.6156  711.9018   8.442  &lt; 2e-16 ***
contractYearyes         -11.5548     3.6113 1570.7539  -3.200   0.0014 ** 
ageCentered20            -3.3029     2.9726  950.1386  -1.111   0.2668    
ageCentered20Quadratic   -1.1888     0.1833  521.2083  -6.487 2.04e-10 ***
years_of_experience      18.8737     2.0589  691.5663   9.167  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) cntrcY agCn20 agC20Q
contrctYrys  0.159                     
ageCentrd20 -0.856 -0.141              
agCntrd20Qd  0.735  0.160 -0.749       
yrs_f_xprnc  0.198 -0.117 -0.528 -0.098</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1"></a>performance<span class="sc">::</span><span class="fu">r2</span>(mixedModelAge_fantasyPtsRush)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># R2 for Mixed Models

  Conditional R2: 0.606
     Marginal R2: 0.105</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1"></a>emmeans<span class="sc">::</span><span class="fu">emmeans</span>(mixedModelAge_fantasyPtsRush, <span class="st">"contractYear"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> contractYear emmean   SE   df lower.CL upper.CL
 no             83.5 2.97  606     77.7     89.3
 yes            71.9 3.93 1256     64.2     79.7

Degrees-of-freedom method: kenward-roger 
Confidence level used: 0.95 </code></pre>
</div>
</div>
</section></section><section id="sec-contractYearWRTE" class="level3" data-number="18.2.3"><h3 data-number="18.2.3" class="anchored" data-anchor-id="sec-contractYearWRTE">
<span class="header-section-number">18.2.3</span> WR/TE</h3>
<div class="cell">
<details class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb91"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1"></a>player_statsContractsWRTE_seasonal <span class="ot">&lt;-</span> player_statsContracts_seasonal <span class="sc">%&gt;%</span> </span>
<span id="cb91-2"><a href="#cb91-2"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb91-3"><a href="#cb91-3"></a>    position_group <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"WR"</span>,<span class="st">"TE"</span>),</span>
<span id="cb91-4"><a href="#cb91-4"></a>    games <span class="sc">&gt;=</span> <span class="dv">5</span>, <span class="co"># keep only player-season combinations in which QBs played at least 5 games</span></span>
<span id="cb91-5"><a href="#cb91-5"></a>    season <span class="sc">&gt;=</span> <span class="dv">2011</span>) <span class="co"># keep only seasons since 2011 (when most contract data are available)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<section id="sec-contractYearWRTE-ReceivingYards" class="level4" data-number="18.2.3.1"><h4 data-number="18.2.3.1" class="anchored" data-anchor-id="sec-contractYearWRTE-ReceivingYards">
<span class="header-section-number">18.2.3.1</span> Receiving Yards</h4>
<p>In terms of receiving yards, Wide Receivers/Tight Ends performed significantly worse in their contract year, even controlling for player age and experience.</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb92"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1"></a>mixedModel_receivingYards <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb92-2"><a href="#cb92-2"></a>  receiving_yards <span class="sc">~</span> contractYear <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> player_id),</span>
<span id="cb92-3"><a href="#cb92-3"></a>  <span class="at">data =</span> player_statsContractsWRTE_seasonal,</span>
<span id="cb92-4"><a href="#cb92-4"></a>  <span class="at">control =</span> <span class="fu">lmerControl</span>(<span class="at">optimizer =</span> <span class="st">"bobyqa"</span>)</span>
<span id="cb92-5"><a href="#cb92-5"></a>)</span>
<span id="cb92-6"><a href="#cb92-6"></a></span>
<span id="cb92-7"><a href="#cb92-7"></a><span class="fu">summary</span>(mixedModel_receivingYards)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: receiving_yards ~ contractYear + (1 | player_id)
   Data: player_statsContractsWRTE_seasonal
Control: lmerControl(optimizer = "bobyqa")

REML criterion at convergence: 32793.8

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-4.8547 -0.5285 -0.1103  0.5071  4.5642 

Random effects:
 Groups    Name        Variance Std.Dev.
 player_id (Intercept) 280.4    16.74   
 Residual              182.5    13.51   
Number of obs: 3849, groups:  player_id, 1088

Fixed effects:
                 Estimate Std. Error        df t value Pr(&gt;|t|)    
(Intercept)       25.1074     0.5904 1296.8371  42.526  &lt; 2e-16 ***
contractYearyes   -4.0835     0.5560 3258.2826  -7.345 2.59e-13 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr)
contrctYrys -0.234</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb94"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1"></a>performance<span class="sc">::</span><span class="fu">r2</span>(mixedModel_receivingYards)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># R2 for Mixed Models

  Conditional R2: 0.609
     Marginal R2: 0.007</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb96"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1"></a>emmeans<span class="sc">::</span><span class="fu">emmeans</span>(mixedModel_receivingYards, <span class="st">"contractYear"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> contractYear emmean   SE   df lower.CL upper.CL
 no             25.1 0.59 1190     23.9     26.3
 yes            21.0 0.71 2076     19.6     22.4

Degrees-of-freedom method: kenward-roger 
Confidence level used: 0.95 </code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb98"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1"></a>mixedModelAge_receivingYards <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb98-2"><a href="#cb98-2"></a>  receiving_yards <span class="sc">~</span> contractYear <span class="sc">+</span> ageCentered20 <span class="sc">+</span> ageCentered20Quadratic <span class="sc">+</span> years_of_experience <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">+</span> ageCentered20 <span class="sc">|</span> player_id),</span>
<span id="cb98-3"><a href="#cb98-3"></a>  <span class="at">data =</span> player_statsContractsWRTE_seasonal,</span>
<span id="cb98-4"><a href="#cb98-4"></a>  <span class="at">control =</span> <span class="fu">lmerControl</span>(<span class="at">optimizer =</span> <span class="st">"bobyqa"</span>)</span>
<span id="cb98-5"><a href="#cb98-5"></a>)</span>
<span id="cb98-6"><a href="#cb98-6"></a></span>
<span id="cb98-7"><a href="#cb98-7"></a><span class="fu">summary</span>(mixedModelAge_receivingYards)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: 
receiving_yards ~ contractYear + ageCentered20 + ageCentered20Quadratic +  
    years_of_experience + (1 + ageCentered20 | player_id)
   Data: player_statsContractsWRTE_seasonal
Control: lmerControl(optimizer = "bobyqa")

REML criterion at convergence: 32298

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-2.9029 -0.5276 -0.0953  0.4800  3.9583 

Random effects:
 Groups    Name          Variance Std.Dev. Corr 
 player_id (Intercept)   520.008  22.804        
           ageCentered20   5.898   2.429   -0.71
 Residual                136.761  11.694        
Number of obs: 3849, groups:  player_id, 1088

Fixed effects:
                         Estimate Std. Error         df t value Pr(&gt;|t|)    
(Intercept)              15.03683    1.51901 1488.09149   9.899  &lt; 2e-16 ***
contractYearyes          -3.24593    0.54450 3060.78317  -5.961 2.79e-09 ***
ageCentered20             1.18353    0.52352 2137.46690   2.261   0.0239 *  
ageCentered20Quadratic   -0.44276    0.02687 1555.27042 -16.477  &lt; 2e-16 ***
years_of_experience       5.03286    0.41161 1324.28706  12.227  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) cntrcY agCn20 agC20Q
contrctYrys  0.115                     
ageCentrd20 -0.817 -0.132              
agCntrd20Qd  0.682  0.073 -0.646       
yrs_f_xprnc  0.259  0.001 -0.654 -0.081</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb100"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1"></a>performance<span class="sc">::</span><span class="fu">r2</span>(mixedModelAge_receivingYards)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># R2 for Mixed Models

  Conditional R2: 0.741
     Marginal R2: 0.146</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb102"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1"></a>emmeans<span class="sc">::</span><span class="fu">emmeans</span>(mixedModelAge_receivingYards, <span class="st">"contractYear"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> contractYear emmean    SE   df lower.CL upper.CL
 no             24.6 0.605 1210     23.5     25.8
 yes            21.4 0.696 1926     20.0     22.8

Degrees-of-freedom method: kenward-roger 
Confidence level used: 0.95 </code></pre>
</div>
</div>
</section><section id="sec-contractYearWRTE-EPA" class="level4" data-number="18.2.3.2"><h4 data-number="18.2.3.2" class="anchored" data-anchor-id="sec-contractYearWRTE-EPA">
<span class="header-section-number">18.2.3.2</span> Expected Points Added</h4>
<p>In terms of expected points added (EPA) from receiving plays, Wide Receivers/Tight Ends performed significantly worse in their contract year, even controlling for player age and experience.</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb104"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1"></a>mixedModel_epaReceiving <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb104-2"><a href="#cb104-2"></a>  receiving_epa <span class="sc">~</span> contractYear <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> player_id),</span>
<span id="cb104-3"><a href="#cb104-3"></a>  <span class="at">data =</span> player_statsContractsWRTE_seasonal,</span>
<span id="cb104-4"><a href="#cb104-4"></a>  <span class="at">control =</span> <span class="fu">lmerControl</span>(<span class="at">optimizer =</span> <span class="st">"bobyqa"</span>)</span>
<span id="cb104-5"><a href="#cb104-5"></a>)</span>
<span id="cb104-6"><a href="#cb104-6"></a></span>
<span id="cb104-7"><a href="#cb104-7"></a><span class="fu">summary</span>(mixedModel_epaReceiving)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: receiving_epa ~ contractYear + (1 | player_id)
   Data: player_statsContractsWRTE_seasonal
Control: lmerControl(optimizer = "bobyqa")

REML criterion at convergence: 12598.2

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-5.5816 -0.5693 -0.0361  0.5369  3.8982 

Random effects:
 Groups    Name        Variance Std.Dev.
 player_id (Intercept) 0.5522   0.7431  
 Residual              1.3004   1.1404  
Number of obs: 3774, groups:  player_id, 1071

Fixed effects:
                  Estimate Std. Error         df t value Pr(&gt;|t|)    
(Intercept)        0.66056    0.03340 1444.06144  19.778  &lt; 2e-16 ***
contractYearyes   -0.16409    0.04521 3588.40814  -3.629 0.000288 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr)
contrctYrys -0.358</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb106"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1"></a>performance<span class="sc">::</span><span class="fu">r2</span>(mixedModel_epaReceiving)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># R2 for Mixed Models

  Conditional R2: 0.300
     Marginal R2: 0.003</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb108"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1"></a>emmeans<span class="sc">::</span><span class="fu">emmeans</span>(mixedModel_epaReceiving, <span class="st">"contractYear"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> contractYear emmean     SE   df lower.CL upper.CL
 no            0.661 0.0334 1270    0.595    0.726
 yes           0.496 0.0456 2457    0.407    0.586

Degrees-of-freedom method: kenward-roger 
Confidence level used: 0.95 </code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb110"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1"></a>mixedModelAge_epaReceiving <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb110-2"><a href="#cb110-2"></a>  receiving_epa <span class="sc">~</span> contractYear <span class="sc">+</span> ageCentered20 <span class="sc">+</span> ageCentered20Quadratic <span class="sc">+</span> years_of_experience <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">+</span> ageCentered20 <span class="sc">|</span> player_id),</span>
<span id="cb110-3"><a href="#cb110-3"></a>  <span class="at">data =</span> player_statsContractsWRTE_seasonal,</span>
<span id="cb110-4"><a href="#cb110-4"></a>  <span class="at">control =</span> <span class="fu">lmerControl</span>(<span class="at">optimizer =</span> <span class="st">"bobyqa"</span>)</span>
<span id="cb110-5"><a href="#cb110-5"></a>)</span>
<span id="cb110-6"><a href="#cb110-6"></a></span>
<span id="cb110-7"><a href="#cb110-7"></a><span class="fu">summary</span>(mixedModelAge_epaReceiving)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: 
receiving_epa ~ contractYear + ageCentered20 + ageCentered20Quadratic +  
    years_of_experience + (1 + ageCentered20 | player_id)
   Data: player_statsContractsWRTE_seasonal
Control: lmerControl(optimizer = "bobyqa")

REML criterion at convergence: 12545.2

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-5.4597 -0.5652 -0.0294  0.5305  3.8994 

Random effects:
 Groups    Name          Variance Std.Dev. Corr 
 player_id (Intercept)   0.911124 0.95453       
           ageCentered20 0.006103 0.07812  -0.68
 Residual                1.246288 1.11637       
Number of obs: 3774, groups:  player_id, 1071

Fixed effects:
                         Estimate Std. Error         df t value Pr(&gt;|t|)    
(Intercept)             3.575e-01  1.023e-01  1.130e+03   3.494 0.000494 ***
contractYearyes        -1.735e-01  4.766e-02  3.500e+03  -3.640 0.000276 ***
ageCentered20           9.670e-03  3.352e-02  1.258e+03   0.288 0.773025    
ageCentered20Quadratic -1.093e-02  1.898e-03  4.972e+02  -5.757 1.50e-08 ***
years_of_experience     1.678e-01  2.380e-02  1.222e+03   7.053 2.93e-12 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) cntrcY agCn20 agC20Q
contrctYrys  0.137                     
ageCentrd20 -0.842 -0.186              
agCntrd20Qd  0.778  0.123 -0.736       
yrs_f_xprnc  0.102  0.001 -0.502 -0.155</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb112"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1"></a>performance<span class="sc">::</span><span class="fu">r2</span>(mixedModelAge_epaReceiving)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># R2 for Mixed Models

  Conditional R2: 0.335
     Marginal R2: 0.031</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb114"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1"></a>emmeans<span class="sc">::</span><span class="fu">emmeans</span>(mixedModelAge_epaReceiving, <span class="st">"contractYear"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> contractYear emmean     SE   df lower.CL upper.CL
 no            0.683 0.0340 1198    0.616     0.75
 yes           0.509 0.0461 2486    0.419     0.60

Degrees-of-freedom method: kenward-roger 
Confidence level used: 0.95 </code></pre>
</div>
</div>
</section><section id="sec-contractYearWRTE-FantasyPoints" class="level4" data-number="18.2.3.3"><h4 data-number="18.2.3.3" class="anchored" data-anchor-id="sec-contractYearWRTE-FantasyPoints">
<span class="header-section-number">18.2.3.3</span> Fantasy Points</h4>
<p>In terms of fantasy points, Wide Receivers/Tight Ends performed significantly worse in their contract year, even controlling for player age and experience.</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb116"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1"></a>mixedModel_fantasyPtsReceiving <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb116-2"><a href="#cb116-2"></a>  fantasyPoints <span class="sc">~</span> contractYear <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> player_id),</span>
<span id="cb116-3"><a href="#cb116-3"></a>  <span class="at">data =</span> player_statsContractsWRTE_seasonal,</span>
<span id="cb116-4"><a href="#cb116-4"></a>  <span class="at">control =</span> <span class="fu">lmerControl</span>(<span class="at">optimizer =</span> <span class="st">"bobyqa"</span>)</span>
<span id="cb116-5"><a href="#cb116-5"></a>)</span>
<span id="cb116-6"><a href="#cb116-6"></a></span>
<span id="cb116-7"><a href="#cb116-7"></a><span class="fu">summary</span>(mixedModel_fantasyPtsReceiving)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: fantasyPoints ~ contractYear + (1 | player_id)
   Data: player_statsContractsWRTE_seasonal
Control: lmerControl(optimizer = "bobyqa")

REML criterion at convergence: 42596.4

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-3.2569 -0.5264 -0.1439  0.4776  4.6031 

Random effects:
 Groups    Name        Variance Std.Dev.
 player_id (Intercept) 2938     54.20   
 Residual              2464     49.64   
Number of obs: 3849, groups:  player_id, 1088

Fixed effects:
                Estimate Std. Error       df t value Pr(&gt;|t|)    
(Intercept)       76.082      1.977 1334.416  38.491  &lt; 2e-16 ***
contractYearyes  -14.174      2.027 3339.944  -6.994 3.21e-12 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr)
contrctYrys -0.257</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb118"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1"></a>performance<span class="sc">::</span><span class="fu">r2</span>(mixedModel_fantasyPtsReceiving)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># R2 for Mixed Models

  Conditional R2: 0.547
     Marginal R2: 0.008</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb120"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1"></a>emmeans<span class="sc">::</span><span class="fu">emmeans</span>(mixedModel_fantasyPtsReceiving, <span class="st">"contractYear"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> contractYear emmean   SE   df lower.CL upper.CL
 no             76.1 1.98 1208     72.2     80.0
 yes            61.9 2.44 2199     57.1     66.7

Degrees-of-freedom method: kenward-roger 
Confidence level used: 0.95 </code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb122"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1"></a>mixedModelAge_fantasyPtsReceiving <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb122-2"><a href="#cb122-2"></a>  fantasyPoints <span class="sc">~</span> contractYear <span class="sc">+</span> ageCentered20 <span class="sc">+</span> ageCentered20Quadratic <span class="sc">+</span> years_of_experience <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">+</span> ageCentered20 <span class="sc">|</span> player_id),</span>
<span id="cb122-3"><a href="#cb122-3"></a>  <span class="at">data =</span> player_statsContractsWRTE_seasonal,</span>
<span id="cb122-4"><a href="#cb122-4"></a>  <span class="at">control =</span> <span class="fu">lmerControl</span>(<span class="at">optimizer =</span> <span class="st">"bobyqa"</span>)</span>
<span id="cb122-5"><a href="#cb122-5"></a>)</span>
<span id="cb122-6"><a href="#cb122-6"></a></span>
<span id="cb122-7"><a href="#cb122-7"></a><span class="fu">summary</span>(mixedModelAge_fantasyPtsReceiving)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: 
fantasyPoints ~ contractYear + ageCentered20 + ageCentered20Quadratic +  
    years_of_experience + (1 + ageCentered20 | player_id)
   Data: player_statsContractsWRTE_seasonal
Control: lmerControl(optimizer = "bobyqa")

REML criterion at convergence: 42173.2

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-3.0232 -0.5011 -0.1202  0.4586  4.9595 

Random effects:
 Groups    Name          Variance Std.Dev. Corr 
 player_id (Intercept)   5542.78  74.450        
           ageCentered20   62.56   7.909   -0.73
 Residual                1958.83  44.259        
Number of obs: 3849, groups:  player_id, 1088

Fixed effects:
                         Estimate Std. Error         df t value Pr(&gt;|t|)    
(Intercept)              43.92080    5.32048 1446.59427   8.255 3.38e-16 ***
contractYearyes         -11.38928    2.02175 3200.81182  -5.633 1.92e-08 ***
ageCentered20             2.81433    1.80559 2093.49796   1.559    0.119    
ageCentered20Quadratic   -1.43481    0.09652 1345.60860 -14.865  &lt; 2e-16 ***
years_of_experience      17.66607    1.37263 1289.05418  12.870  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) cntrcY agCn20 agC20Q
contrctYrys  0.120                     
ageCentrd20 -0.826 -0.143              
agCntrd20Qd  0.708  0.083 -0.676       
yrs_f_xprnc  0.221  0.000 -0.614 -0.094</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb124"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1"></a>performance<span class="sc">::</span><span class="fu">r2</span>(mixedModelAge_fantasyPtsReceiving)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># R2 for Mixed Models

  Conditional R2: 0.674
     Marginal R2: 0.143</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb126"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1"></a>emmeans<span class="sc">::</span><span class="fu">emmeans</span>(mixedModelAge_fantasyPtsReceiving, <span class="st">"contractYear"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> contractYear emmean   SE   df lower.CL upper.CL
 no             75.1 2.01 1210     71.1     79.0
 yes            63.7 2.38 2086     59.0     68.3

Degrees-of-freedom method: kenward-roger 
Confidence level used: 0.95 </code></pre>
</div>
</div>
</section></section><section id="sec-contractYearQBRBWRTE" class="level3" data-number="18.2.4"><h3 data-number="18.2.4" class="anchored" data-anchor-id="sec-contractYearQBRBWRTE">
<span class="header-section-number">18.2.4</span> QB/RB/WR/TE</h3>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb128"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1"></a>player_statsContractsQBRBWRTE_seasonal <span class="ot">&lt;-</span> player_statsContracts_seasonal <span class="sc">%&gt;%</span> </span>
<span id="cb128-2"><a href="#cb128-2"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(</span>
<span id="cb128-3"><a href="#cb128-3"></a>    position_group <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"QB"</span>,<span class="st">"RB"</span>,<span class="st">"WR"</span>,<span class="st">"TE"</span>),</span>
<span id="cb128-4"><a href="#cb128-4"></a>    games <span class="sc">&gt;=</span> <span class="dv">5</span>, <span class="co"># keep only player-season combinations in which QBs played at least 5 games</span></span>
<span id="cb128-5"><a href="#cb128-5"></a>    season <span class="sc">&gt;=</span> <span class="dv">2011</span>) <span class="co"># keep only seasons since 2011 (when most contract data are available)</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<section id="sec-contractYearQBRBWRTE-FantasyPoints" class="level4" data-number="18.2.4.1"><h4 data-number="18.2.4.1" class="anchored" data-anchor-id="sec-contractYearQBRBWRTE-FantasyPoints">
<span class="header-section-number">18.2.4.1</span> Fantasy Points</h4>
<p>In terms of fantasy points, Quarterbacks/Running Backs/Wide Receivers/Tight Ends performed significantly worse in their contract year, even controlling for player age and experience.</p>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb129"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1"></a>mixedModel_fantasyPts <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb129-2"><a href="#cb129-2"></a>  fantasyPoints <span class="sc">~</span> contractYear <span class="sc">+</span> position_group <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">|</span> player_id),</span>
<span id="cb129-3"><a href="#cb129-3"></a>  <span class="at">data =</span> player_statsContractsQBRBWRTE_seasonal,</span>
<span id="cb129-4"><a href="#cb129-4"></a>  <span class="at">control =</span> <span class="fu">lmerControl</span>(<span class="at">optimizer =</span> <span class="st">"bobyqa"</span>)</span>
<span id="cb129-5"><a href="#cb129-5"></a>)</span>
<span id="cb129-6"><a href="#cb129-6"></a></span>
<span id="cb129-7"><a href="#cb129-7"></a><span class="fu">summary</span>(mixedModel_fantasyPts)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: fantasyPoints ~ contractYear + position_group + (1 | player_id)
   Data: player_statsContractsQBRBWRTE_seasonal
Control: lmerControl(optimizer = "bobyqa")

REML criterion at convergence: 71246.5

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-3.7607 -0.5148 -0.1425  0.4754  4.2032 

Random effects:
 Groups    Name        Variance Std.Dev.
 player_id (Intercept) 3360     57.97   
 Residual              2940     54.22   
Number of obs: 6342, groups:  player_id, 1803

Fixed effects:
                 Estimate Std. Error       df t value Pr(&gt;|t|)    
(Intercept)       154.301      5.296 1926.481   29.14   &lt;2e-16 ***
contractYearyes   -16.377      1.757 5508.788   -9.32   &lt;2e-16 ***
position_groupRB  -72.000      6.020 1907.095  -11.96   &lt;2e-16 ***
position_groupTE  -93.584      6.345 1893.898  -14.75   &lt;2e-16 ***
position_groupWR  -69.240      5.851 1906.016  -11.83   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) cntrcY pst_RB pst_TE
contrctYrys -0.084                     
postn_grpRB -0.875  0.013              
postn_grpTE -0.829 -0.003  0.729       
postn_grpWR -0.899  0.002  0.791  0.750</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb131"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1"></a>performance<span class="sc">::</span><span class="fu">r2</span>(mixedModel_fantasyPts)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># R2 for Mixed Models

  Conditional R2: 0.579
     Marginal R2: 0.097</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb133"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1"></a>emmeans<span class="sc">::</span><span class="fu">emmeans</span>(mixedModel_fantasyPts, <span class="st">"contractYear"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> contractYear emmean   SE   df lower.CL upper.CL
 no             95.6 1.90 1914     91.9     99.3
 yes            79.2 2.28 3308     74.7     83.7

Results are averaged over the levels of: position_group 
Degrees-of-freedom method: kenward-roger 
Confidence level used: 0.95 </code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb135"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1"></a>mixedModelAge_fantasyPts <span class="ot">&lt;-</span> lmerTest<span class="sc">::</span><span class="fu">lmer</span>(</span>
<span id="cb135-2"><a href="#cb135-2"></a>  fantasyPoints <span class="sc">~</span> contractYear <span class="sc">+</span> position_group <span class="sc">+</span> ageCentered20 <span class="sc">+</span> ageCentered20Quadratic <span class="sc">+</span> years_of_experience <span class="sc">+</span> (<span class="dv">1</span> <span class="sc">+</span> ageCentered20 <span class="sc">|</span> player_id),</span>
<span id="cb135-3"><a href="#cb135-3"></a>  <span class="at">data =</span> player_statsContractsQBRBWRTE_seasonal,</span>
<span id="cb135-4"><a href="#cb135-4"></a>  <span class="at">control =</span> <span class="fu">lmerControl</span>(<span class="at">optimizer =</span> <span class="st">"bobyqa"</span>)</span>
<span id="cb135-5"><a href="#cb135-5"></a>)</span>
<span id="cb135-6"><a href="#cb135-6"></a></span>
<span id="cb135-7"><a href="#cb135-7"></a><span class="fu">summary</span>(mixedModelAge_fantasyPts)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML. t-tests use Satterthwaite's method [
lmerModLmerTest]
Formula: fantasyPoints ~ contractYear + position_group + ageCentered20 +  
    ageCentered20Quadratic + years_of_experience + (1 + ageCentered20 |  
    player_id)
   Data: player_statsContractsQBRBWRTE_seasonal
Control: lmerControl(optimizer = "bobyqa")

REML criterion at convergence: 70667.6

Scaled residuals: 
    Min      1Q  Median      3Q     Max 
-3.7078 -0.5030 -0.1205  0.4497  4.4839 

Random effects:
 Groups    Name          Variance Std.Dev. Corr 
 player_id (Intercept)   5990.83  77.400        
           ageCentered20   70.11   8.373   -0.73
 Residual                2435.30  49.349        
Number of obs: 6342, groups:  player_id, 1803

Fixed effects:
                         Estimate Std. Error         df t value Pr(&gt;|t|)    
(Intercept)             128.08019    6.62585 2845.54840  19.330  &lt; 2e-16 ***
contractYearyes         -12.64221    1.78301 5365.14944  -7.090 1.51e-12 ***
position_groupRB        -63.76276    5.86196 1835.98555 -10.877  &lt; 2e-16 ***
position_groupTE        -86.12368    6.14762 1788.80770 -14.009  &lt; 2e-16 ***
position_groupWR        -63.06668    5.69118 1823.91009 -11.081  &lt; 2e-16 ***
ageCentered20            -1.67954    1.44430 3188.30661  -1.163    0.245    
ageCentered20Quadratic   -1.18708    0.07448 1895.71369 -15.938  &lt; 2e-16 ***
years_of_experience      18.59106    1.13641 2221.16240  16.359  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Correlation of Fixed Effects:
            (Intr) cntrcY pst_RB pst_TE pst_WR agCn20 agC20Q
contrctYrys  0.100                                          
postn_grpRB -0.705 -0.027                                   
postn_grpTE -0.651 -0.026  0.738                            
postn_grpWR -0.729 -0.037  0.797  0.757                     
ageCentrd20 -0.510 -0.126 -0.027 -0.046 -0.004              
agCntrd20Qd  0.468  0.085 -0.026 -0.011 -0.030 -0.651       
yrs_f_xprnc  0.071 -0.031  0.097  0.093  0.067 -0.626 -0.104</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb137"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1"></a>performance<span class="sc">::</span><span class="fu">r2</span>(mixedModelAge_fantasyPts)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code># R2 for Mixed Models

  Conditional R2: 0.672
     Marginal R2: 0.190</code></pre>
</div>
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb139"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1"></a>emmeans<span class="sc">::</span><span class="fu">emmeans</span>(mixedModelAge_fantasyPts, <span class="st">"contractYear"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code> contractYear emmean   SE   df lower.CL upper.CL
 no             92.9 1.89 1865     89.2     96.7
 yes            80.3 2.25 3250     75.9     84.7

Results are averaged over the levels of: position_group 
Degrees-of-freedom method: kenward-roger 
Confidence level used: 0.95 </code></pre>
</div>
</div>
</section></section></section><section id="sec-mythbustersConclusion" class="level2" data-number="18.3"><h2 data-number="18.3" class="anchored" data-anchor-id="sec-mythbustersConclusion">
<span class="header-section-number">18.3</span> Conclusion</h2>
<p>There is a widely held belief that NFL players perform better in the last year of the contract because they are motivated to gain another contract. There is some evidence in the NBA and MLB that players tend to perform better in their contract year. We evaluated this possibility among NFL players who were Quarterbacks, Running Backs, Wide Receivers, or Tight Ends. We evaluated a wide range of performance indexes, including Quarterback Rating, yards per carry, points added, expected points added, receiving yards, and fantasy points. None of the positions showed significantly better performance in their contract year for any of the performance indexes. By contrast, if anything, players tended to perform more poorly during their contract year, as operationalized by fantasy points, receiving yards (WR/TE), and EPA from receiving plays (WR/TE), even when controlling for player and age experience. In sum, we did not find evidence in support of the contract year hypothesis and consider this myth debunked. However, we are open to this possibility being reexamined in new ways or with additional performance metrics.</p>
</section><section id="sec-mythbustersSessionInfo" class="level2" data-number="18.4"><h2 data-number="18.4" class="anchored" data-anchor-id="sec-mythbustersSessionInfo">
<span class="header-section-number">18.4</span> Session Info</h2>
<div class="cell">
<details open="" class="code-fold"><summary>Code</summary><div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb141"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1"></a><span class="fu">sessionInfo</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>R version 4.5.1 (2025-06-13)
Platform: x86_64-pc-linux-gnu
Running under: Ubuntu 24.04.3 LTS

Matrix products: default
BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 
LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0

locale:
 [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       
 [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   
 [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          
[10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   

time zone: UTC
tzcode source: system (glibc)

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] lubridate_1.9.4    forcats_1.0.1      stringr_1.5.2      dplyr_1.1.4       
 [5] purrr_1.1.0        readr_2.1.5        tidyr_1.3.1        tibble_3.3.0      
 [9] ggplot2_4.0.0      tidyverse_2.0.0    emmeans_1.11.2-8   performance_0.15.2
[13] lmerTest_3.1-3     lme4_1.1-37        Matrix_1.7-3       nflreadr_1.5.0    
[17] petersenlab_1.2.0 

loaded via a namespace (and not attached):
 [1] tidyselect_1.2.1    psych_2.5.6         viridisLite_0.4.2  
 [4] farver_2.1.2        S7_0.2.0            fastmap_1.2.0      
 [7] TH.data_1.1-4       digest_0.6.37       rpart_4.1.24       
[10] timechange_0.3.0    estimability_1.5.1  lifecycle_1.0.4    
[13] cluster_2.1.8.1     survival_3.8-3      magrittr_2.0.4     
[16] compiler_4.5.1      rlang_1.1.6         Hmisc_5.2-4        
[19] tools_4.5.1         yaml_2.3.10         data.table_1.17.8  
[22] knitr_1.50          htmlwidgets_1.6.4   mnormt_2.1.1       
[25] plyr_1.8.9          RColorBrewer_1.1-3  multcomp_1.4-29    
[28] withr_3.0.2         foreign_0.8-90      numDeriv_2016.8-1.1
[31] nnet_7.3-20         grid_4.5.1          stats4_4.5.1       
[34] lavaan_0.6-20       xtable_1.8-4        colorspace_2.1-2   
[37] scales_1.4.0        MASS_7.3-65         insight_1.4.2      
[40] cli_3.6.5           mvtnorm_1.3-3       rmarkdown_2.30     
[43] reformulas_0.4.1    generics_0.1.4      rstudioapi_0.17.1  
[46] tzdb_0.5.0          reshape2_1.4.4      minqa_1.2.8        
[49] DBI_1.2.3           cachem_1.1.0        splines_4.5.1      
[52] parallel_4.5.1      base64enc_0.1-3     mitools_2.4        
[55] vctrs_0.6.5         sandwich_3.1-1      boot_1.3-31        
[58] jsonlite_2.0.0      hms_1.1.4           pbkrtest_0.5.5     
[61] Formula_1.2-5       htmlTable_2.4.3     glue_1.8.0         
[64] nloptr_2.2.1        codetools_0.2-20    stringi_1.8.7      
[67] gtable_0.3.6        quadprog_1.5-8      pillar_1.11.1      
[70] htmltools_0.5.8.1   R6_2.6.1            Rdpack_2.6.4       
[73] mix_1.0-13          evaluate_1.0.5      pbivnorm_0.6.0     
[76] lattice_0.22-7      rbibutils_2.3       backports_1.5.0    
[79] broom_1.0.10        memoise_2.0.1       Rcpp_1.1.0         
[82] coda_0.19-4.1       gridExtra_2.3       nlme_3.1-168       
[85] checkmate_2.3.3     xfun_0.53           zoo_1.8-14         
[88] pkgconfig_2.0.3    </code></pre>
</div>
</div>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list" style="display: none">
<div id="ref-Bales2012" class="csl-entry" role="listitem">
Bales, J. (2012). <em>2012 contract year players and the myth of increased production</em>. <a href="https://www.4for4.com/2012/preseason/2012-contract-year-players-and-myth-increased-production">https://www.4for4.com/2012/preseason/2012-contract-year-players-and-myth-increased-production</a>
</div>
<div id="ref-Corston2000" class="csl-entry" role="listitem">
Corston, R., &amp; Colman, A. M. (2000). <em>A crash course in SPSS for <span>Windows</span></em>. Wiley-Blackwell.
</div>
<div id="ref-Niles2022" class="csl-entry" role="listitem">
Niles, B. (2022). <em>Do players perform better in fantasy football in a contract year?</em> <a href="https://www.4for4.com/2022/preseason/do-players-perform-better-fantasy-football-contract-year">https://www.4for4.com/2022/preseason/do-players-perform-better-fantasy-football-contract-year</a>
</div>
<div id="ref-White2014a" class="csl-entry" role="listitem">
White, M. H., &amp; Sheldon, K. M. (2014). The contract year syndrome in the <span>NBA</span> and <span>MLB</span>: <span>A</span> classic undermining pattern. <em>Motivation and Emotion</em>, <em>38</em>(2), 196–205. <a href="https://doi.org/10.1007/s11031-013-9389-7">https://doi.org/10.1007/s11031-013-9389-7</a>
</div>
</div>
</section></main><!-- /main --><h3>Feedback</h3>

<div class="feedback">
    Please consider providing feedback about this textbook, so that I can make it as helpful as possible. You can provide feedback at the following link:
    
    <a href="https://forms.gle/LsnVKwqmS1VuxWD18">https://forms.gle/LsnVKwqmS1VuxWD18</a>
</div>

<h3>Email Notification</h3>

<div class="rmdsale">
The online version of this book will remain open access. If you want to know when the print version of the book is for sale, enter your email below so I can let you know.
<br><iframe src="https://docs.google.com/forms/d/e/1FAIpQLSccMKaTBXzMBmcy4myCNQnL8mCgRczh0Eg_Pw3c15bork7-xQ/viewform?embedded=true" width="640" height="770" frameborder="0" marginheight="0" marginwidth="0">Loading...</iframe>

</div>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/isaactpetersen\.github\.io\/Fantasy-Football-Analytics-Textbook");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
            // target, if specified
            link.setAttribute("target", "_blank");
            if (link.getAttribute("rel") === null) {
              link.setAttribute("rel", "noopener");
            }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script><input type="hidden" id="giscus-base-theme" value="light"><input type="hidden" id="giscus-alt-theme" value="dark"><script>
  function loadGiscus() {
    // Function to get the theme based on body class
    const getTheme = () => {
      let baseTheme = document.getElementById('giscus-base-theme').value;
      let altTheme = document.getElementById('giscus-alt-theme').value;
      if (authorPrefersDark) {
          [baseTheme, altTheme] = [altTheme, baseTheme];
      }
      return document.body.classList.contains('quarto-dark') ? altTheme : baseTheme;
    };
    const script = document.createElement("script");
    script.src = "https://giscus.app/client.js";
    script.async = true;
    script.dataset.repo = "isaactpetersen/Fantasy-Football-Analytics-Textbook";
    script.dataset.repoId = "R_kgDOL6_f_A";
    script.dataset.category = "Chapter Comments";
    script.dataset.categoryId = "DIC_kwDOL6_f_M4Cnvl7";
    script.dataset.mapping = "pathname";
    script.dataset.reactionsEnabled = "1";
    script.dataset.emitMetadata = "0";
    script.dataset.inputPosition = "top";
    script.dataset.theme = getTheme();
    script.dataset.lang = "en";
    script.crossOrigin = "anonymous";
    // Append the script to the desired div instead of at the end of the body
    document.getElementById("quarto-content").appendChild(script);
  }
  loadGiscus();
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./evaluating-prediction-accuracy.html" class="pagination-link" aria-label="Evaluation of Prediction/Forecasting Accuracy">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Evaluation of Prediction/Forecasting Accuracy</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./machine-learning.html" class="pagination-link" aria-label="Machine Learning">
        <span class="nav-page-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Machine Learning</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer"><div class="nav-footer">
    <div class="nav-footer-left">
<p>“Fantasy Football Analytics: Statistics, Prediction, and Empiricism Using R” was written by <a href="https://psychology.uiowa.edu/people/isaac-petersen">Isaac T. Petersen</a>.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/isaactpetersen/Fantasy-Football-Analytics-Textbook/edit/main/mythbusters.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/isaactpetersen/Fantasy-Football-Analytics-Textbook/blob/main/mythbusters.qmd" class="toc-action"><i class="bi empty"></i>View source</a></li><li><a href="https://github.com/isaactpetersen/Fantasy-Football-Analytics-Textbook/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>This book was built with <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>


</body></html>